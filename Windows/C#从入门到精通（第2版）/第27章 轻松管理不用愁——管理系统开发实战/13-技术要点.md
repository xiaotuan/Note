### 27.3.3　技术要点

#### 1．3层间的依赖关系和实体类的关系

一般先创建实体类，其他3层都添加了对实体类的引用，通过实体在3层之间进行数据的传递。添加业务逻辑层对数据访问层和实体层的引用，添加表示层对业务逻辑层和实体层的引用。3层之间的依赖关系是有顺序的，不能循环引用，也不能跨层引用。

#### 2．利用Visual Studio 2013 的重构功能，可以快速完成实体类的创建

定义好实体类字段后，在字段名上单击鼠标右键，在弹出的快捷菜单中选择【重构】<img src="https://cdn.ptpress.cn/pubcloud/5B0A982E/ushu/N19937/online/FBOL6c69757cf0cda/Images/28.png" style="width:11px;  height: 20px; " class="my_markdown"/>
【封装字段】菜单项，可以快速完成实体类属性的创建。编写实体类时，表中字段的类型要与实体类中的属性相匹配，如数据库中的varchar、nvarchar类型对应C#中的string，数据库中的money对应C#中的double类型。

