### 27.2.1　需求分析

本节开发的图书管理系统采用Windows窗体应用程序，用二层架构进行设计和开发。为了便于学习和练习，对系统的功能进行了简化。

图书管理系统的主要功能如下。

+ 借阅者可以通过系统查询图书信息和借阅图书。
+ 管理员能够对系统数据进行维护，如增加、修改、删除和查询图书。

根据需求分析进行数据库设计，建立的数据库名称为“Book”，Book中有图书信息表BookInfo、用户表UserInfo和图书借阅信息表IssueInfo 3个表。表的结构如下。

图书信息表BookInfo用于存放图书信息。每本书用一条记录存放，记录图书名称、类别、作者、价格、封面、内容简介和图书访问码等。

| 字段名称 | 数据类型 | 字段描述 |
| :-----  | :-----  | :-----  | :-----  | :-----  |
| BookID | bigint | 图书ID，主键，自动增长 |
| BookName | varchar(50) | 图书名称，不能为空 |
| BookType | varchar(100) | 图书类型，不能为空 |
| BookAuthor | varchar(100) | 图书作者，不能为空 |
| BookPrice | sallmoney | 图书价格，不能为空 |
| BookPic | varchar(20 | 图书封面 |
| BookContent | txt | 内容介绍，不能为空 |
| BookIssue | varchar(50) | 方法指定访问码，不能为空 |

用户表UserInfo用于存放用户信息，包括普通用户和管理员用户。其中UState值为1代表管理员，值为2代表普通用户，二者操作的权限不一样。

| 字段名称 | 数据类型 | 字段描述 |
| :-----  | :-----  | :-----  | :-----  | :-----  |
| UID | int | 用户ID，主键，自动增长 |
| UName | varchar(50) | 用户，不能为空 |
| UPwdype | varchar(5) | 用户密码，不能为空 |
| UBookID | bigint | 借阅证号 |
| UState | int | 用户状态，不能为空，默认为2 |

图书借阅信息表IssueInfo，用于存放图书的借阅信息。

| 字段名称 | 数据类型 | 字段描述 |
| :-----  | :-----  | :-----  | :-----  | :-----  |
| IssID | bigint | 图书借阅ID，主键，自动增长 |
| BookID | bigint | 图书ID，外键 |
| IssBookID | bigint | 借阅证号，不能为空 |
| IssDateTime | datetime | 借阅时间，不能为空 |

