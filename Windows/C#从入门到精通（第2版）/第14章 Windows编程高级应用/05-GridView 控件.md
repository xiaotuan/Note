### 14.3.1　GridView 控件

GridView 控件用于显示表中的数据。通过使用GridView控件，您可以显示、编辑、删除、排序和翻阅多种不同的数据源（包括数据库、XML 文件和公开数据的业务对象）中的表格数据。

显示表格数据是软件开发中的一个周期性任务。ASP.NET 提供了许多工具在网格中显示表格数据，如 GridView 控件。通过使用GridView 控件，您可以显示、编辑和删除多种不同的数据源（例如，数据库、XML 文件和公开数据的业务对象）中的数据。

可以使用GridView来完成以下操作。

+ 通过数据源控件自动绑定和显示数据。
+ 通过数据源控件对数据进行选择、排序、分页、编辑和删除。

另外，还可以通过以下方式自定义GridView控件的外观和行为。

+ 指定自定义列和样式。
+ 利用模板创建自定义用户界面(UI)元素。
+ 通过处理事件将自己的代码添加到GridView控件的功能中。

#### 1．使用 GridView 控件进行数据绑定

GridView控件提供了两个用于绑定到数据的选项。

（1）使用 DataSourceID 属性进行数据绑定，此选项让您能够将GridView控件绑定到数据源控件。建议使用此方法，因为它允许GridView控件利用数据源控件的功能并提供了内置的排序、分页和更新功能。

（2）使用 DataSource 属性进行数据绑定，此选项使您能够绑定到包括ADO.NET数据集和数据读取器在内的各种对象。此方法需要为所有附加功能（如排序、分页和更新）编写代码。

当使用 DataSourceID 属性绑定到数据源时，GridView控件支持双向数据绑定。除可以使该控件显示返回的数据之外，还可以使它自动支持对绑定数据的更新和删除操作。

#### 2．在 GridView 控件中设置数据显示格式

可以指定GridView控件的行的布局、颜色、字体和对齐方式，可以指定行中包含的文本和数据的显示。另外，可以指定将数据行显示为项目、交替项、选择的项还是编辑模式项。GridView控件还允许指定列的格式。

#### 3．使用 GridView 控件编辑和删除数据

默认情况下，GridView控件在只读模式下显示数据。但是，该控件还支持一种编辑模式，在该模式下控件显示一个包含可编辑控件（如 TextBox 或 CheckBox 控件）的行。您还可以对GridView控件进行配置以显示一个“Delete按钮”，用户可单击该按钮来删除数据源中相应的记录。

GridView控件可对其关联数据源自动执行编辑和删除操作，使您无需编写代码即可启用编辑行为。或者，也可以以编程方式控制编辑和删除数据的过程（如在GridView控件绑定到只读数据源控件的情况下）。

您可以使用模板对当某个行处于编辑模式时使用的输入控件进行自定义。

#### 4．GridView排序功能

GridView控件支持在不需要任何编程的情况下通过单个列排序。通过使用排序事件及提供排序表达式，您可以进一步自定义GridView控件的排序功能。

#### 5．GridView 分页功能

GridView控件提供一种简单的分页功能。可以通过使用GridView控件的PagerTemplate属性来自定义GridView控件的分页功能。

适用场景：GridView控件一般用于以表的形式显示规则的二维关系数据，例如，用于显示站点下所有用户的列表。

