[toc]

### 1. 关于标识符的规则

标识符是给变量、用户定义的类型（如类和结构）和这些类型的成员指定的名称。标识符区分大小写，所以 `interestRate` 和 `InterestRate` 是不同的变量。确定 `C#` 中可以使用什么标识符有两条规则：

+ 可以包含数字字符，但数字字符必须以字母或下划线开头。
+ 不能把 `C#` 关键字用作标识符。

`C#` 保留的关键字的列表请参见：<https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/>。

如果需要把某一保留字用作标识符（例如，访问一个用另一种语言编写的类），那么可以在标识符的前面加上前缀符号 `@`，告知编译器其后的内容是一个标识符，而不是 `C#` 关键字（所以，`abstract` 不是有效的标识符，但 `@abstract` 是）。

最后，标识符也可以包含 `Unicode` 字符，用语法 `\uXXXX` 指定，其中 `XXXX` 是 `Unicode` 字符的 4 位十六进制编码。

### 2. 命名约定

`.NET Framework` 的一般理念是，变量名要反映该变量实例的目的，而不反映数据类型。

#### 2.1 名称的大小写

在许多情况下，名称都应使用 `Pascal` 大小写形式。`Pascal` 大小写形式指名称中单词的首字母大写，如 `EmployeeSalary`、`ConfirmationDialog`、`PlainTextEncoding`。注意，名称空间和类，以及基类中的成员等名称都应遵循 `Pascal` 大小写规则，最好不要使用带有下划线字符的单词，即名称不应时 `employee_salary`。其他语言中常量的名称常常全部大写，但在 `C#` 最好不要这样，因为这种名称很难阅读，而应全部使用 `Pascal` 大小写形式的命名约定：

```c#
const int MaximumLength;
```

还推荐使用另一种大小写模式：`camel` 大小写形式。这种形式类似于 `Pascal` 大小写形式，但名称中第一个单词的首字母不大写，如 `employeeSalary`、`confirmationDialog`、`plainTextEncoding`。遇到以下 3 种情况时，可以使用 `camel` 大小写形式：

+ 类型中所有私有成员字段的名称。

+ 传递给方法的所有参数的名称。

+ 用于区分同名的两个对象，比较常见的是属性封装字段：

  ```c#
  private string employeeName;
  
  public string EmployeeName
  {
      get
      {
          return employeeName;
      }
  }
  ```

> 注意：从 `.NET Core` 开始，`.NET` 团队在私有成员字段的名称前面添加了下划线作为前缀。

如果使用属性封装字段，则私有成员总是使用 `camel` 大小写形式，而公有的或受保护的成员总是使用 `Pascal` 大小写形式。

`C#` 区分大小写，所以在 `C#` 中，仅大小写不同的名称在语法上是正确的，如上面的例子所示。但是，有时可能从 `Visual Basic` 应用程序中调用你的程序集，而 `Visual Basic` 不区分大小写。如果使用仅大小写不同的名称，就必须使这两个名称不能从程序集的外部访问。否则，`Visual Basic` 中的其他代码就不能正确使用你的程序集。

#### 2.1 名称的风格

名称的风格应保持一致。例如，如果类中的一个方法名为 `ShowConfirmationDialog()`，另一个方法就不能被命名为 `ShowDialogWarning()` 或 `WarningDialogShow()`，而应是 `ShowWarningDialog()`。

#### 2.3 名称空间的名称

名称空间的名称非常重要，一定要仔细考虑，以避免一个名称空间的名称与其他名称空间同名。记住，名称空间的名称是 `.NET` 区分共享程序集中对象名的唯一方式。如果一个软件包的名称空间使用的名称与另一个软件包相同，而这两个软件包都由同一个程序使用，就会出现问题。因此，最好用自己的公司名创建顶级的名称空间，再嵌套技术范围较窄的用户所在小组或部门的名称空间，或者类所在软件包的名称空间。`Microsoft` 建议使用这种形式的名称空间：`<公司名>.<技术名>`。

#### 2.4 名称和关键字

名称不应与任何关键字冲突，这非常重要。实际上，如果在代码中，视图给某一项指定与 `C#` 关键字同名的名称，就会出现语法错误，因为编译器会假定该名称表示一条语句。但是，由于类可能由其他语言编写的代码的代码访问，因此不能使用其他 `.NET` 语言中的关键字作为名称。一般来说，`C++` 关键字类似于 `C#` 关键字，不太可能与 `C++` 混淆，只有 `Visual C++` 常用的关键字以两个下划线字符开头。与 `C#` 一样，`C++` 关键字都是小写字母，如果遵循公有类和成员使用 `Pascal` 风格名称的约定，则在它们的名称中至少有一个字母大写，这样就不会与 `C++` 关键字冲突。另一方面，`Visual Basic` 的问题会多一些，因为 `Visual Basic` 的关键字要比 `C#` 的关键字多，而且它不区分大小写，这意味着不能依赖于 `Pascal` 风格的名称来区分类和成员。

查看 `Microsoft` 文档：<https://docs.microsoft.com/dotnet/csharp/language-reference/keywords>。

### 3. 属性和方法的使用

类中容易造成困惑的一个方面是，应使用属性还是方法来表示特定的数量。这没有硬性规定，但一般情况下，如果某个东西看起来像变量，并且行为也与变量类似，就应使用属性来表示它，即：

+ 客户端代码应能读取它的值。最好不要使用只写属性。
+ 读取该值不应花太长的时间。实际上，如果是属性，通常表明读取过程花的时间相对较短。
+ 读取该值不应有任何明显的和意外的副作用。进一步说，设置属性的值，不应有与该属性不直接相关的副作用。设置对话框的宽度会改变该对话框在屏幕上的外观，这是可以的，因为这种结果与该属性明显相关。
+ 可以按照任何顺序设置属性。尤其在设置属性时，最好不要因为还没有设置另一个相关的数下而抛出异常。
+ 连续读取属性应得到相同的结果。如果属性的值可能会出现预料不到的改变，就应把它编写为一个方法。

如果要编写的数据项满足上述所有条件，就把它设置为属性，否则就应使用方法。

### 4. 字段的使用

字段的用法非常简单。字段几乎总应该是私有的，但在某些情况下也可以把常量或只读字段设置为公有。如果把字段设置为公有，就不利于在以后扩展或修改类。