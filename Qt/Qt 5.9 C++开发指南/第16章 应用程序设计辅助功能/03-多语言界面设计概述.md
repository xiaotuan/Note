### 16.1.1　多语言界面设计概述

有些软件需要开发多语言界面版本，如中文版和英文版，并且在软件里可以方便地切换界面语言。Qt为多语言界面提供了很好的支持，使用Qt的一些规则和工具，可以很方便地为应用程序开发提供多语言界面支持。

用Qt开发多语言界面应用程序，主要包括以下几个步骤。

（1）在程序设计阶段，程序代码中每一个用户可见的字符串都用tr()函数封装，以便Qt提取界面字符串用于生成翻译资源文件。用UI设计器可视化设计窗体时统一用一种语言，如汉语。

（2）在项目配置文件（.pro文件）中设置需要导出的翻译文件（.ts文件）名称，使用lupdate工具扫描项目文件中需要翻译的字符串，并生成翻译文件。

（3）使用Qt的Linguist程序打开生成的翻译文件，将程序中的字符串翻译为需要的语言，如将所有中文字符串翻译为英文。

（4）使用lrelease工具编译翻译好的翻译文件，生成更为紧凑的“.qm”文件。

（5）在应用程序中用QTranslator调用不同的“.qm”文件，实现不同的语言界面。

