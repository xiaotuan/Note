### 8.11　编程练习

下面的一些程序要求输入以 `EOF` 终止。如果你的操作系统很难或根本无法使用重定向，请使用一些其他的测试来终止输入，如读到 `&` 字符时停止。

1．设计一个程序，统计在读到文件结尾之前读取的字符数。

2．编写一个程序，在遇到 `EOF` 之前，把输入作为字符流读取。程序要打印每个输入的字符及其相应的 `ASCII` 十进制值。注意，在 `ASCII` 序列中，空格字符前面的字符都是非打印字符，要特殊处理这些字符。如果非打印字符是换行符或制表符，则分别打印 `\n` 或 `\t` 。否则，使用控制字符表示法。例如， `ASCII` 的1是Ctrl+A，可显示为 `^A` 。注意， `A` 的ASCII值是Ctrl+A的值加上64。其他非打印字符也有类似的关系。除每次遇到换行符打印新的一行之外，每行打印10对值。（注意：不同的操作系统其控制字符可能不同。）

3．编写一个程序，在遇到 `EOF` 之前，把输入作为字符流读取。该程序要报告输入中的大写字母和小写字母的个数。假设大小写字母数值是连续的。或者使用 `ctype.h` 库中合适的分类函数更方便。

4．编写一个程序，在遇到 `EOF` 之前，把输入作为字符流读取。该程序要报告平均每个单词的字母数。不要把空白统计为单词的字母。实际上，标点符号也不应该统计，但是现在暂时不同考虑这么多（如果你比较在意这点，考虑使用 `ctype.h` 系列中的 `ispunct()` 函数）。

5．修改程序清单8.4的猜数字程序，使用更智能的猜测策略。例如，程序最初猜 `50` ，询问用户是猜大了、猜小了还是猜对了。如果猜小了，那么下一次猜测的值应是 `50` 和 `100` 中值，也就是 `75` 。如果这次猜大了，那么下一次猜测的值应是 `50` 和 `75` 的中值，等等。使用二分查找（binary search）策略，如果用户没有欺骗程序，那么程序很快就会猜到正确的答案。

6．修改程序清单8.8中的 `get_first()` 函数，让该函数返回读取的第1个非空白字符，并在一个简单的程序中测试。

7．修改第7章的编程练习8，用字符代替数字标记菜单的选项。用 `q` 代替5作为结束输入的标记。

8．编写一个程序，显示一个提供加法、减法、乘法、除法的菜单。获得用户选择的选项后，程序提示用户输入两个数字，然后执行用户刚才选择的操作。该程序只接受菜单提供的选项。程序使用 `float` 类型的变量存储用户输入的数字，如果用户输入失败，则允许再次输入。进行除法运算时，如果用户输入 `0` 作为第2个数（除数），程序应提示用户重新输入一个新值。该程序的一个运行示例如下：

```c
Enter the operation of your choice:
a. add           s. subtract
m. multiply      d. divide
q. quit
a
Enter first number: 22 .4
Enter second number: one
one is not an number.
Please enter a number, such as 2.5, -1.78E8, or 3: 1
22.4 + 1 = 23.4
Enter the operation of your choice:
a. add           s. subtract
m. multiply      d. divide
q. quit
d
Enter first number: 18.4
Enter second number: 0
Enter a number other than 0: 0.2
18.4 / 0.2 = 92
Enter the operation of your choice:
a. add           s. subtract
m. multiply      d. divide
q. quit
q
Bye.

```



![202003129608A7AB.jpg](../images/202003129608A7AB.jpg)
