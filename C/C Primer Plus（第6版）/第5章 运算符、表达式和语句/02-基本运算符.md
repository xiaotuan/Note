[toc]

### 1. 赋值运算符：=

在 C 语言中，= 并不意味着 “相等”，而是一个赋值运算符。

```c
bmw = 2002;
```

**数据对象：** 用于存储值的数据区域统称为数据对象。

**左值：** 左值是 C 语言的术语，用于标识特定数据对象的名称或表达式。

对于早期的 C 语言，提到左值意味着：

1. 它指定一个对象，所以引用内存中的地址；

2. 它可用在赋值运算符的左侧。

但是后来，标准中新增了 const 限定符。用 const 创建的变量不可修改。因此，const 标识符满足上面的第 1 项，但是不满足第 2 项。为此，C 标准新增了一个术语：可修改的左值。

**右值：** 右值指的是能赋值给可修改左值的量，且本身不是左值。

**程序清单5.3 golf.c程序**

```c
/* golf.c -- 高尔夫锦标赛记分卡 */
#include <stdio.h>	

int main(void)
{
	int jane, tarzan, cheeta;
	cheeta = tarzan = jane = 68;
	printf("                  cheeta    tarzan      jane\n");
	printf("First round score   %4d  %8d  %8d\n", cheeta, tarzan, jane);
	return 0;
}
```

### 2. 加法运算符：+

加法运算符用于加法运算，使其两侧的值相加。例如，语句：

```c
printf("%d", 4 + 20)
```

### 3. 减法运算符：-

减法运算符用于减法运算，使其左侧的数减去右侧的数。例如，下面的语句把 200.0 赋给 takehome:

```c
takehome = 224.00 - 24.00;
```

### 4. 符号运算符：- 和 +

减号还可以用于标明或改变一个值的代数符号。例如，执行下面的语句后，smokey 的值为 12：

```c
rocky = -12;
smokey = -rocky;
```

C90 标准新增了一元 + 运算符，它不会改变运算对象的值或符号，只能这样使用：

```c
dozen = +12;
```

### 5. 乘法运算符： *

符号 * 表示乘法。下面的语句用 2.54 乘以 inch，并将结果赋给 cm：

```c
cm = 2.54 * inch;
```

**程序清单5.4 squares.c程序**

```c
/* squares.c -- 计算 1 ~ 20 的平方 */
#include <stdio.h>

int main(void)
{
	int num = 1;

	while (num < 21)
	{
		printf("%4d %6d\n", num, num * num);
		num = num + 1;
	}
	return 0;
}
```

**程序清单5.5 wheat.c程序**

```c
/* wheat.c -- 指数增长 */
#include <stdio.h>

#define SQUARES 64	// 棋盘中的方格数

int main(void)
{
	const double CROP = 2E16;	// 世界小麦年产谷粒数
	double current, total;
	int count = 1;

	printf("square      grains      total      ");
	printf("fraction of \n");
	printf("            added       grains     ");
	printf("world total\n");
	total = current = 1.0;	/* 从 1 粒谷粒开始 */
	printf("%4d %13.2e %12.2e %12.2e\n", count, current, total, total / CROP);
	while (count < SQUARES)
	{
		count = count + 1;
		current = 2.0 * current;	/* 下一个方格谷粒翻倍 */
		total = total + current;	/* 更新总数 */
		printf("%4d %13.2e %12.2e %12.2e\n", count, current, total, total / CROP);
	}
	printf("That's all.\n");

	return 0;
}
```

运行输出如下所示：

```console
square      grains      total      fraction of
            added       grains     world total
   1      1.00e+00     1.00e+00     5.00e-17
   2      2.00e+00     3.00e+00     1.50e-16
   3      4.00e+00     7.00e+00     3.50e-16
   4      8.00e+00     1.50e+01     7.50e-16
   5      1.60e+01     3.10e+01     1.55e-15
......
  61      1.15e+18     2.31e+18     1.15e+02
  62      2.31e+18     4.61e+18     2.31e+02
  63      4.61e+18     9.22e+18     4.61e+02
  64      9.22e+18     1.84e+19     9.22e+02
That's all.
```

### 6. 除法运算符：/

C 使用符号 / 来表示除法。/ 左侧的值是被除数，右侧的值是除数。例如，下面 four 的值是 4.0：

```c
four = 12.0 / 3.0;
```

浮点数除法的结果是浮点数，而整数除法的结果是整数。在 C 语言中，整数除法结果的小数部分被丢弃，这一过程被称为截断。

**程序清单5.6 divide.c程序**

```c
/* divide.c -- 演示除法 */
#include <stdio.h>

int main(void)
{
	printf("integer division:  5/4   is %d \n", 5 / 4);
	printf("integer division:  6/3   is %d \n", 6 / 3);
	printf("integer division:  7/4   is %d \n", 7 / 4);
	printf("floating division: 7./4. is %1.2f \n", 7. / 4.);
	printf("mixed division:    7./4  is %1.2f \n", 7. / 4);
	return 0;
}
```

运行后输出如下所示：

```console
integer division:  5/4   is 1
integer division:  6/3   is 2
integer division:  7/4   is 1
floating division: 7./4. is 1.75
mixed division:    7./4  is 1.75
```

### 7. 运算符优先级

<center><b>表5.1 运算符优先级（从高至低）</b></center>

| 运算符     | 结合律   |
| ---------- | -------- |
| ()         | 从左往右 |
| + - (一元) | 从右往左 |
| * /        | 从左往右 |
| + - (二元) | 从左往右 |
| =          | 从右往左 |

### 8. 优先级和求值顺序

**程序清单5.7 rules.c程序**

```c
/* rules.c -- 优先级测试 */
#include <stdio.h>

int main(void)
{
	int top, score;
	top = score = -(2 + 5) * 6 + (4 + 3 * (2 + 3));
	printf("top = %d, score = %d\n", top, score);
	return 0;
}
```

运行后输出如下所示：

```console
top = -23, score = -23
```

