程序可以通过两种方式使用文件。第一种方法是，显示使用特定的函数打开文件、关闭文件、读取文件、写入文件，诸如此类。第二种方法是，设计能与键盘和屏幕互动的程序，通过不同的渠道重定向输入至文件和从文件输出。换言之，把 `stdin` 六重新赋给文件。继续使用 `getchar()` 函数从输入流中获取数据，但它并不关心从流的什么位置获取数据。

**1. UNIX、Linux 和 DOS 重定向**

**1.1 重定向输入**

假设已经编译了如下代码，并把可执行版本放入一个名为 `echo_eof` 的文件中。

**示例代码：echo_eof.c**

```c
/* echo_eof.c -- 重复输入，直到文件结尾 */
#include <stdio.h>

int main(void)
{
	int ch;
	
	while ((ch = getchar()) != EOF)
		putchar(ch);
		
	return 0;
}
```

运行该程序，输入可执行文件名：

```shell
echo_eof
```

假设你要用该程序处理名为 words 的文本文件。只需用下面的命令代替上面的命令即可：

```shell
echo_eof < words
```

`<` 符号是 `UNIX` 和 `DOS/Windows` 的重定向运算符。该运算符使 words 文件与 `stdin` 流相关联，把文件中的内容导入 `echo_eof` 程序。

**1.2 重定向输出**

现在假设要用 `echo_eof` 把键盘输入的内容发送到名为 `mywords` 的文件中。然后，输入以下命令并开始输入：

```shell
echo_eof > mywords
```

`>` 符号是第二个重定向运算符。它创建了一个名为 mywords 的新文件，然后把 `echo_eof` 的输出重定向至该文件中。

**1.3 组合重定向**

现在，假设你希望制作一份 mywords 文件的副本，并命名为 savewords。只需输入以下命令即可：

```shell
./echo_eof < mywords > savewords
```

下面的命令也起作用，因为命令与重定向运算符的顺序无关：

```shell
./echo_eof > savewords < mywords
```

> 注意：在一条命令中，输入文件名和输出文件名不能相同。
>
> ```shell
> ./echo_eof < mywords > mywords...
> ```
>
> 原因是 `> mywords` 在输入之前已导致原 `mywords` 的长度被截断为 0。

总之，在 `UNIX`、`Linux` 或 `Windows/DOS` 系统中使用两个重定向运算符时，要遵循以下原则。

+ 重定向运算符连接一个可执行程序（包括标准操作系统命令）和一个数据文件，不能用于连接一个数据文件和另一个数据文件，也不能用于连接一个程序和另一个程序。
+ 使用重定向运算符不能读取多个文件的输入，也不能把输出定向至多个文件。
+ 通常，文件名和运算符之间的空格不是必须的，除非是偶尔在 `UNIX shell`、`Linux shell` 或 `Windows` 命令行提示模式中使用的有特殊含义的字符。

`UNIX` 、`Linux` 或 `Windows / DOS` 还有 `>>` 运算符，该运算符可以把数据添加到现有文件的末尾，而 `|` 运算符能把一个文件的输出连接到另一个文件的输入。
