### 3.3.2　运行测试

我们运行此测试的方法是在测试模式下编译代码。编译器会忽略带有测试标记的函数的编译，除非它被告知在测试模式下运行。这可以通过在编译测试代码时将--test标记参数传递给rustc实现。之后，只需执行编译后的二进制文件即可运行测试。对于之前的测试，我们将在测试模式下运行以下命令来编译它：

```rust
rustc --test first_unit_test.rs
```

通过--test标记参数，rustc将main函数和一些测试工具代码放在一起，并将所有已定义的测试函数作为线程并行调用。默认情况下，所有测试都是并行运行的，除非将下列环境变量设置成“RUST_TEST_THREADS=1”。这意味着如果我们希望在单线程模式下运行之前的测试，那么可以通过“RUST_TEST_THREADS=1”来实现。

现在Cargo已经支持运行测试，所有这些通常都是通过调用cargo test命令在内部完成的。此命令为我们编译并运行测试已标记的函数。在接下来的示例中，我们将主要使用Cargo来执行测试。

