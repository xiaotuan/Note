###### 三、HTTP的特点

`无连接`、 `无状态`
HTTP的持久连接、Cookie/Session

**1、HTTP的无状态**

即协议对于事务处理没有记忆能力。
每次的请求都是独立的，它的执行情况和结果与前面的请求和之后的请求时无直接关系的，它不会受前面的请求应答情况直接影响，也不会直接影响后面的请求应答情况
也就是说**服务器中没有保存客户端的状态，客户端必须每次带上自己的状态去请求服务器**
标准的HTTP协议指的是不包括cookies，session，application的HTTP协议

**2、HTTP的持久连接**

* 非持久连接：每个连接处理一个请求-响应事务。

* 持久连接：每个连接可以处理多个请求-响应事务。

持久连接情况下，服务器发出响应后让TCP连接继续打开着。同一对客户/服务器之间的后续请求和响应可以通过这个连接发送。
`HTTP/1.0 `使用非持久连接。`HTTP/1.1` 默认使用持久连接`<keep-alive>`。

非持久连接的每个连接，TCP得在客户端和服务端分配TCP缓冲区，并维持TCP变量，会严重增加服务器负担。而且每个对象都有2个`RTT`(Round Trip Time，也就是一个数据包从发出去到回来的时间)的延迟，由于TCP的拥塞控制方案,每个对象都遭受TCP缓启动，因为每个TCP连接都起始于缓启动阶段

**HTTP持久连接怎么判断一个请求是否结束的？**

* `Content-length`：根据所接收字节数是否达到`Content-length`值

* `chunked`(分块传输):`Transfer-Encoding`。当选择分块传输时，响应头中可以不包含`Content-Length`，服务器会先回复一个不带数据的报文（只有响应行和响应头和\r\n），然后开始传输若干个数据块。当传输完若干个数据块后，需要再传输一个空的数据块，当客户端收到空的数据块时，则客户端知道数据接收完毕。