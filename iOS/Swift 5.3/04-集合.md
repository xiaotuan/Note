[toc]

Swiftæä¾›äº†ä¸‰ç§ä¸»è¦çš„*é›†åˆç±»å‹*ï¼Œç§°ä¸ºæ•°ç»„ï¼Œé›†åˆå’Œå­—å…¸ï¼Œç”¨äºå­˜å‚¨å€¼çš„é›†åˆã€‚æ•°ç»„æ˜¯å€¼çš„æœ‰åºé›†åˆã€‚é›†æ˜¯å”¯ä¸€å€¼çš„æ— åºé›†åˆã€‚å­—å…¸æ˜¯é”®-å€¼å…³è”çš„æ— åºé›†åˆã€‚

![CollectionTypes_intro_2x.png](./images/CollectionTypes_intro_2x.png)

Swiftä¸­çš„æ•°ç»„ï¼Œé›†åˆå’Œå­—å…¸å§‹ç»ˆæ¸…æ¥šå®ƒä»¬å¯ä»¥å­˜å‚¨çš„å€¼å’Œé”®çš„ç±»å‹ã€‚è¿™æ„å‘³ç€æ‚¨ä¸èƒ½å°†é”™è¯¯ç±»å‹çš„å€¼é”™è¯¯åœ°æ’å…¥åˆ°é›†åˆä¸­ã€‚è¿™ä¹Ÿæ„å‘³ç€æ‚¨å¯ä»¥å¯¹å°†ä»é›†åˆä¸­æ£€ç´¢çš„å€¼çš„ç±»å‹å……æ»¡ä¿¡å¿ƒã€‚

> æ³¨æ„
>
> Swiftçš„æ•°ç»„ï¼Œé›†åˆå’Œå­—å…¸ç±»å‹è¢«å®ç°ä¸º*é€šç”¨é›†åˆ*ã€‚æœ‰å…³æ³›å‹ç±»å‹å’Œé›†åˆçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[æ³›å‹](https://docs.swift.org/swift-book/LanguageGuide/Generics.html)ã€‚

# é›†åˆçš„å¯å˜æ€§

å¦‚æœåˆ›å»ºæ•°ç»„ï¼Œé›†åˆæˆ–å­—å…¸ï¼Œå¹¶å°†å…¶åˆ†é…ç»™å˜é‡ï¼Œåˆ™åˆ›å»ºçš„é›†åˆå°†æ˜¯*mutable*ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨åˆ›å»ºé›†åˆåé€šè¿‡æ·»åŠ ï¼Œåˆ é™¤æˆ–æ›´æ”¹é›†åˆä¸­çš„é¡¹ç›®æ¥æ›´æ”¹ï¼ˆæˆ–*å˜å¼‚*ï¼‰é›†åˆã€‚å¦‚æœå°†æ•°ç»„ï¼Œé›†åˆæˆ–å­—å…¸åˆ†é…ç»™å¸¸é‡ï¼Œåˆ™è¯¥é›†åˆæ˜¯*ä¸å¯å˜çš„*ï¼Œå¹¶ä¸”å…¶å¤§å°å’Œå†…å®¹æ— æ³•æ›´æ”¹ã€‚

> æ³¨æ„
>
> åœ¨æ‰€æœ‰ä¸éœ€è¦æ›´æ”¹é›†åˆçš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºä¸å¯å˜çš„é›†åˆéƒ½æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚è¿™æ ·åšä½¿æ‚¨å¯ä»¥æ›´è½»æ¾åœ°æ¨ç†ä»£ç ï¼Œå¹¶ä½¿Swiftç¼–è¯‘å™¨å¯ä»¥ä¼˜åŒ–åˆ›å»ºçš„é›†åˆçš„æ€§èƒ½ã€‚

# æ•°ç»„

ä¸€ä¸ª*é˜µåˆ—*å­˜å‚¨å€¼åœ¨æœ‰åºåˆ—è¡¨ä¸­çš„ç›¸åŒç±»å‹çš„ã€‚åŒä¸€å€¼å¯ä»¥åœ¨æ•°ç»„ä¸­çš„ä¸åŒä½ç½®å¤šæ¬¡å‡ºç°ã€‚

> æ³¨æ„
>
> Swiftçš„`Array`ç±»å‹æ¡¥æ¥åˆ°Foundationçš„`NSArray`ç±»ã€‚
>
> æœ‰å…³`Array`ä¸Foundationå’ŒCocoaä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[Arrayå’ŒNSArrayä¹‹é—´çš„æ¡¥æ¥](https://developer.apple.com/documentation/swift/array#2846730)ã€‚

## æ•°ç»„ç±»å‹ç®€å†™è¯­æ³•

Swiftæ•°ç»„çš„ç±»å‹å®Œæ•´å†™ä¸º`Array<Element>`ï¼Œå…¶ä¸­`Element`æ˜¯å…è®¸å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚æ‚¨ä¹Ÿå¯ä»¥å°†ç®€å†™å½¢å¼çš„æ•°ç»„ç±»å‹ç¼–å†™ä¸º`[Element]`ã€‚å°½ç®¡è¿™ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ç›¸åŒçš„ï¼Œä½†é€Ÿè®°å½¢å¼æ˜¯é¦–é€‰ï¼Œåœ¨å¼•ç”¨æ•°ç»„çš„ç±»å‹æ—¶ï¼Œæœ¬æŒ‡å—é€šç¯‡ä½¿ç”¨é€Ÿè®°å½¢å¼ã€‚

## åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„

æ‚¨å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºæŸç§ç±»å‹çš„ç©ºæ•°ç»„ï¼š

```swift
var someInts = [Int]()
print("someInts is of type [Int] with \(someInts.count) items.")
// Prints "someInts is of type [Int] with 0 items."
```

è¯·æ³¨æ„ï¼Œ`someInts`å˜é‡`[Int]`çš„ç±»å‹æ˜¯ä»åˆå§‹åŒ–ç¨‹åºçš„ç±»å‹æ¨æ–­å‡ºæ¥çš„ã€‚

æˆ–è€…ï¼Œå¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°å‚æ•°æˆ–å·²ç»é”®å…¥çš„å˜é‡æˆ–å¸¸é‡ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç©ºæ•°ç»„æ–‡å­—ï¼Œå†™ä¸º`[]`ï¼ˆä¸€å¯¹ç©ºçš„æ–¹æ‹¬å·ï¼‰ï¼š

```swift
someInts.append(3)
// someInts now contains 1 value of type Int
someInts = []
// someInts is now an empty array, but is still of type [Int]
```

## åˆ›å»ºå…·æœ‰é»˜è®¤å€¼çš„æ•°ç»„

Swiftçš„`Array`ç±»å‹è¿˜æä¾›äº†ä¸€ä¸ªåˆå§‹åŒ–ç¨‹åºï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªç‰¹å®šå¤§å°çš„æ•°ç»„ï¼Œå¹¶å°†å…¶æ‰€æœ‰å€¼è®¾ç½®ä¸ºç›¸åŒçš„é»˜è®¤å€¼ã€‚æ‚¨å‘åˆå§‹åŒ–ç¨‹åºä¼ é€’äº†é€‚å½“ç±»å‹çš„é»˜è®¤å€¼ï¼ˆç§°ä¸º`repeating`ï¼‰ï¼šä»¥åŠè¯¥å€¼åœ¨æ–°æ•°ç»„ä¸­é‡å¤çš„æ¬¡æ•°ï¼ˆç§°ä¸º`count`ï¼‰ï¼š

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]
```

## é€šè¿‡å°†ä¸¤ä¸ªæ•°ç»„åŠ åœ¨ä¸€èµ·æ¥åˆ›å»ºæ•°ç»„

æ‚¨å¯ä»¥ä½¿ç”¨åŠ æ³•è¿ç®—ç¬¦ï¼ˆ`+`ï¼‰å°†ä¸¤ä¸ªå…·æœ‰å…¼å®¹ç±»å‹çš„ç°æœ‰æ•°ç»„åŠ åœ¨ä¸€èµ·ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚ä»æ·»åŠ åˆ°ä¸€èµ·çš„ä¸¤ä¸ªæ•°ç»„çš„ç±»å‹æ¨æ–­å‡ºæ–°æ•°ç»„çš„ç±»å‹ï¼š

```swift
var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]

var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```

## ä½¿ç”¨æ•°ç»„æ–‡å­—åˆ›å»ºæ•°ç»„

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨*æ•°ç»„å¸¸é‡*åˆå§‹åŒ–æ•°ç»„ï¼Œè¿™æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼å†™ä¸ºæ•°ç»„é›†åˆçš„ä¸€ç§ç®€ä¾¿æ–¹æ³•ã€‚æ•°ç»„æ–‡å­—è¢«å†™ä¸ºå€¼åˆ—è¡¨ï¼Œä»¥é€—å·åˆ†éš”ï¼Œå¹¶ç”¨ä¸€å¯¹æ–¹æ‹¬å·åŒ…å›´ï¼š

```swift
[value 1, value 2, value 3]
```

ä¸‹é¢çš„ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªåä¸º`shoppingList`å­˜å‚¨`String`å€¼çš„æ•°ç»„ï¼š

```swift
var shoppingList: [String] = ["Eggs", "Milk"]
// shoppingList has been initialized with two initial items
```

å°†è¯¥`shoppingList`å˜é‡å£°æ˜ä¸ºâ€œå­—ç¬¦ä¸²å€¼æ•°ç»„â€ï¼Œå†™ä¸º`[String]`ã€‚ç”±äºæ­¤ç‰¹å®šæ•°ç»„å°†å€¼ç±»å‹æŒ‡å®šä¸º`String`ï¼Œå› æ­¤ä»…å…è®¸å­˜å‚¨`String`å€¼ã€‚åœ¨æ­¤ï¼Œ`shoppingList`ä½¿ç”¨ä¸¤ä¸ª`String`å€¼ï¼ˆ`"Eggs"`å’Œ`"Milk"`ï¼‰åˆå§‹åŒ–æ•°ç»„ï¼Œå¹¶å°†å…¶å†™å…¥æ•°ç»„æ–‡å­—ä¸­ã€‚

> æ³¨æ„
>
> ç”±äºåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­å°†æ›´å¤šå•†å“æ·»åŠ åˆ°è´­ç‰©æ¸…å•ä¸­ï¼Œå› æ­¤è¯¥`shoppingList`æ•°ç»„è¢«å£°æ˜ä¸ºå˜é‡ï¼ˆå¸¦æœ‰`var`ä»‹ç»è€…ï¼‰ï¼Œè€Œä¸æ˜¯å¸¸é‡ï¼ˆå¸¦æœ‰`let`ä»‹ç»è€…ï¼‰ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°ç»„æ–‡å­—åŒ…å«ä¸¤ä¸ª`String`å€¼ï¼Œè€Œæ²¡æœ‰å…¶ä»–å€¼ã€‚è¿™ä¸`shoppingList`å˜é‡å£°æ˜çš„ç±»å‹ï¼ˆåªèƒ½åŒ…å«`String`å€¼çš„æ•°ç»„ï¼‰åŒ¹é…ï¼Œå› æ­¤å…è®¸ä½¿ç”¨æ•°ç»„å¸¸é‡æ¥åˆå§‹åŒ–`shoppingList`ä¸¤ä¸ªåˆå§‹é¡¹ã€‚

å€ŸåŠ©Swiftçš„ç±»å‹æ¨æ–­ï¼Œå¦‚æœä½¿ç”¨åŒ…å«ç›¸åŒç±»å‹å€¼çš„æ•°ç»„æ–‡å­—è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™ä¸å¿…ç¼–å†™æ•°ç»„çš„ç±»å‹ã€‚çš„åˆå§‹åŒ–`shoppingList`æœ¬æ¥å¯ä»¥å†™æˆè¾ƒçŸ­çš„å½¢å¼ï¼š

```swift
var shoppingList = ["Eggs", "Milk"]
```

å› ä¸ºæ•°ç»„æ–‡å­—ä¸­çš„æ‰€æœ‰å€¼éƒ½æ˜¯åŒä¸€ç±»å‹ï¼Œæ‰€ä»¥Swiftå¯ä»¥æ¨æ–­å‡º`[String]`è¯¥`shoppingList`å˜é‡æ˜¯æ­£ç¡®çš„ç±»å‹ã€‚

## è®¿é—®å’Œä¿®æ”¹æ•°ç»„

æ‚¨å¯ä»¥é€šè¿‡æ•°ç»„çš„æ–¹æ³•å’Œå±æ€§æˆ–ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å’Œä¿®æ”¹æ•°ç»„ã€‚

è¦æ‰¾å‡ºæ•°ç»„ä¸­çš„é¡¹ç›®æ•°ï¼Œè¯·æ£€æŸ¥å…¶åªè¯»`count`å±æ€§ï¼š

```swift
print("The shopping list contains \(shoppingList.count) items.")
// Prints "The shopping list contains 2 items."
```

ä½¿ç”¨Boolean `isEmpty`å±æ€§ä½œä¸ºæ£€æŸ¥è¯¥`count`å±æ€§æ˜¯å¦ç­‰äºçš„å¿«æ·æ–¹å¼`0`ï¼š

```swift
if shoppingList.isEmpty {
    print("The shopping list is empty.")
} else {
    print("The shopping list is not empty.")
}
// Prints "The shopping list is not empty."
```

æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨æ•°ç»„çš„`append(_:)`æ–¹æ³•å°†æ–°é¡¹ç›®æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼š

```swift
shoppingList.append("Flour")
// shoppingList now contains 3 items, and someone is making pancakes
```

æˆ–è€…ï¼Œä½¿ç”¨é™„åŠ èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ`+=`ï¼‰é™„åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…¼å®¹é¡¹çš„æ•°ç»„ï¼š

```swift
shoppingList += ["Baking Powder"]
// shoppingList now contains 4 items
shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList now contains 7 items
```

é€šè¿‡ä½¿ç”¨*ä¸‹æ ‡è¯­æ³•*ä»æ•°ç»„ä¸­æ£€ç´¢ä¸€ä¸ªå€¼ï¼Œåœ¨æ•°ç»„åç§°åç´§æ¥ç€åœ¨æ–¹æ‹¬å·å†…ä¼ é€’è¦æ£€ç´¢çš„å€¼çš„ç´¢å¼•ï¼š

```swift
var firstItem = shoppingList[0]
// firstItem is equal to "Eggs"
```

> æ³¨æ„
>
> æ•°ç»„ä¸­çš„ç¬¬ä¸€é¡¹ç´¢å¼•ä¸º`0`ï¼Œè€Œä¸æ˜¯`1`ã€‚Swiftä¸­çš„æ•°ç»„å§‹ç»ˆä¸ºé›¶ç´¢å¼•ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ›´æ”¹ç»™å®šç´¢å¼•å¤„çš„ç°æœ‰å€¼ï¼š

```swift
shoppingList[0] = "Six eggs"
// the first item in the list is now equal to "Six eggs" rather than "Eggs"
```

ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ—¶ï¼Œæ‚¨æŒ‡å®šçš„ç´¢å¼•å¿…é¡»æœ‰æ•ˆã€‚ä¾‹å¦‚ï¼Œç¼–å†™å°è¯•å°†é¡¹ç›®è¿½åŠ åˆ°æ•°ç»„æœ«å°¾çš„æ“ä½œä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚`shoppingList[shoppingList.count] = "Salt"`

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ç«‹å³æ›´æ”¹å€¼çš„èŒƒå›´ï¼Œå³ä½¿æ›¿æ¢å€¼é›†çš„é•¿åº¦ä¸è¦æ›¿æ¢çš„èŒƒå›´çš„é•¿åº¦ä¸åŒã€‚ä¸‹é¢çš„ç¤ºä¾‹æ›¿æ¢ï¼Œä»¥åŠä¸å’Œï¼š

```swift
shoppingList[4...6] = ["Bananas", "Apples"]
// shoppingList now contains 6 items
```

è¦å°†é¡¹ç›®ä»¥æŒ‡å®šçš„ç´¢å¼•æ’å…¥æ•°ç»„ï¼Œè¯·è°ƒç”¨æ•°ç»„çš„`insert(_:at:)`æ–¹æ³•ï¼š

```swift
shoppingList.insert("Maple Syrup", at: 0)
// shoppingList now contains 7 items
// "Maple Syrup" is now the first item in the list
```

å¯¹è¯¥`insert(_:at:)`æ–¹æ³•çš„è°ƒç”¨ä¼šåœ¨è´­ç‰©æ¸…å•çš„æœ€å¼€å¤´æ’å…¥ä¸€ä¸ªå€¼ä¸ºçš„æ–°å•†å“ï¼Œè¯¥å•†å“çš„ç´¢å¼•ä¸ºã€‚`"Maple Syrup"``0`

åŒæ ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨`remove(at:)`æ–¹æ³•ä»æ•°ç»„ä¸­åˆ é™¤ä¸€é¡¹ã€‚æ­¤æ–¹æ³•å°†åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„é¡¹ç›®ï¼Œå¹¶è¿”å›å·²åˆ é™¤çš„é¡¹ç›®ï¼ˆå°½ç®¡å¦‚æœä¸éœ€è¦ï¼Œæ‚¨å¯ä»¥å¿½ç•¥è¿”å›çš„å€¼ï¼‰ï¼š

```swift
let mapleSyrup = shoppingList.remove(at: 0)
// the item that was at index 0 has just been removed
// shoppingList now contains 6 items, and no Maple Syrup
// the mapleSyrup constant is now equal to the removed "Maple Syrup" string
```

> æ³¨æ„
>
> å¦‚æœå°è¯•è®¿é—®æˆ–ä¿®æ”¹æ•°ç»„ç°æœ‰èŒƒå›´ä¹‹å¤–çš„ç´¢å¼•å€¼ï¼Œåˆ™ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚é€šè¿‡å°†ç´¢å¼•ä¸æ•°ç»„çš„`count`å±æ€§è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥åœ¨ä½¿ç”¨ç´¢å¼•ä¹‹å‰æ£€æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆã€‚åœ¨é˜µåˆ—ä¸­çš„æœ€å¤§æœ‰æ•ˆçš„ç´¢å¼•æ˜¯å› ä¸ºæ•°ç»„æ˜¯ä»é›¶ç„¶è€Œç´¢å¼•ï¼Œå½“è¢«ï¼ˆæ„å‘³ç€æ•°ç»„ä¸ºç©ºï¼‰ï¼Œæ²¡æœ‰æœ‰æ•ˆçš„ç´¢å¼•ã€‚`count - 1``count``0`

åˆ é™¤é¡¹ç›®åï¼Œæ•°ç»„ä¸­çš„æ‰€æœ‰é—´éš™éƒ½å°†å…³é—­ï¼Œå› æ­¤indexçš„å€¼`0`å†æ¬¡ç­‰äºï¼š`"Six eggs"`

```swift
firstItem = shoppingList[0]
// firstItem is now equal to "Six eggs"
```

å¦‚æœè¦ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€é¡¹ï¼Œè¯·ä½¿ç”¨`removeLast()`æ–¹æ³•è€Œä¸æ˜¯`remove(at:)`æ–¹æ³•æ¥é¿å…æŸ¥è¯¢æ•°ç»„çš„`count`å±æ€§ã€‚ä¸`remove(at:)`æ–¹æ³•ç±»ä¼¼ï¼Œ`removeLast()`è¿”å›åˆ é™¤çš„é¡¹ç›®ï¼š

```swift
let apples = shoppingList.removeLast()
// the last item in the array has just been removed
// shoppingList now contains 5 items, and no apples
// the apples constant is now equal to the removed "Apples" string
```

## éå†æ•°ç»„

å¯ä»¥éå†æ•´ä¸ªé›†åˆå€¼ä¸æ•°ç»„`for`- `in`å¾ªç¯ï¼š

```swift
for item in shoppingList {
    print(item)
}
// Six eggs
// Milk
// Flour
// Baking Powder
// Bananas
```

å¦‚æœæ‚¨éœ€è¦æ¯ä¸ªé¡¹ç›®çš„æ•´æ•°ç´¢å¼•åŠå…¶å€¼ï¼Œè¯·ä½¿ç”¨`enumerated()`æ–¹æ³•æ¥éå†æ•°ç»„ã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªé¡¹ç›®ï¼Œè¯¥`enumerated()`æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æ•´æ•°å’Œé¡¹ç›®ç»„æˆçš„å…ƒç»„ã€‚æ•´æ•°ä»é›¶å¼€å§‹ï¼Œæ¯ä¸€é¡¹åŠ ä¸€ã€‚å¦‚æœæ‚¨å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œæšä¸¾ï¼Œåˆ™è¿™äº›æ•´æ•°ä¸é¡¹çš„ç´¢å¼•åŒ¹é…ã€‚æ‚¨å¯ä»¥åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å°†å…ƒç»„åˆ†è§£ä¸ºä¸´æ—¶å¸¸é‡æˆ–å˜é‡ï¼š

```swift
for (index, value) in shoppingList.enumerated() {
    print("Item \(index + 1): \(value)")
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
```

æ¬²äº†è§£æ›´å¤šæœ‰å…³`for`- `in`å¾ªç¯ï¼Œè§[ä¸ºï¼Œåœ¨å¾ªç¯ä¸­](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID121)ã€‚

# Set

ç”²*ç»„*å­˜å‚¨ä¸åŒé›†åˆä¸­æ²¡æœ‰å®šä¹‰æ’åºçš„ç›¸åŒç±»å‹çš„å€¼ã€‚å½“é¡¹ç›®çš„é¡ºåºä¸é‡è¦æ—¶ï¼Œæˆ–è€…éœ€è¦ç¡®ä¿æŸä¸ªé¡¹ç›®ä»…å‡ºç°ä¸€æ¬¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆè€Œä¸æ˜¯æ•°ç»„ã€‚

> æ³¨æ„
>
> Swiftçš„`Set`ç±»å‹æ¡¥æ¥åˆ°Foundationçš„`NSSet`ç±»ã€‚
>
> æœ‰å…³`Set`ä¸Foundationå’ŒCocoaä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[Setå’ŒNSSetä¹‹é—´çš„æ¡¥æ¥](https://developer.apple.com/documentation/swift/set#2845530)ã€‚

## é›†åˆç±»å‹çš„å“ˆå¸Œå€¼

ç±»å‹å¿…é¡»æ˜¯å¯*å“ˆå¸Œ*çš„æ‰èƒ½å­˜å‚¨åœ¨é›†åˆä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥ç±»å‹å¿…é¡»æä¾›ä¸€ç§ä¸ºå…¶è‡ªèº«è®¡ç®—*å“ˆå¸Œå€¼*çš„æ–¹æ³•ã€‚å“ˆå¸Œå€¼æ˜¯`Int`å¯¹äºç›¸ç­‰æ¯”è¾ƒçš„æ‰€æœ‰å¯¹è±¡éƒ½ç›¸åŒçš„å€¼ï¼Œä¾‹å¦‚ï¼Œå¦‚æœï¼Œåˆ™éµå¾ªã€‚`a == b``a.hashValue == b.hashValue`

æ‰€æœ‰æ–¯å¨å¤«ç‰¹çš„åŸºæœ¬ç±»å‹ï¼ˆä¾‹å¦‚`String`ï¼Œ`Int`ï¼Œ`Double`ï¼Œå’Œ`Bool`ï¼‰é»˜è®¤æƒ…å†µä¸‹å¯å“ˆå¸Œï¼Œå¹¶å¯ä»¥ä½œä¸ºè®¾å®šå€¼ç±»å‹æˆ–å­—å…¸å¯†é’¥ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰å…³è”å€¼çš„æšä¸¾æ¡ˆä¾‹å€¼ï¼ˆå¦‚[Enumerationsä¸­æ‰€è¿°](https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html)ï¼‰ä¹Ÿæ˜¯å¯å“ˆå¸Œçš„ã€‚

> æ³¨æ„
>
> é€šè¿‡ä½¿å®ƒä»¬ç¬¦åˆ`Hashable`Swiftçš„æ ‡å‡†åº“ä¸­çš„åè®®ï¼Œæ‚¨å¯ä»¥å°†è‡ªå·±çš„è‡ªå®šä¹‰ç±»å‹ç”¨ä½œè®¾ç½®å€¼ç±»å‹æˆ–å­—å…¸é”®ç±»å‹ã€‚ç¬¦åˆ`Hashable`åè®®çš„ç±»å‹å¿…é¡»æä¾›`Int`ç§°ä¸ºçš„å¯è·å–å±æ€§`hashValue`ã€‚`hashValue`åœ¨åŒä¸€ç¨‹åºçš„ä¸åŒæ‰§è¡Œæˆ–ä¸åŒç¨‹åºä¸­ï¼Œç±»å‹çš„å±æ€§è¿”å›çš„å€¼ä¸éœ€è¦ç›¸åŒã€‚
>
> å› ä¸º`Hashable`åè®®ç¬¦åˆ`Equatable`ï¼Œæ‰€ä»¥ç¬¦åˆç±»å‹è¿˜å¿…é¡»æä¾›equalsè¿ç®—ç¬¦ï¼ˆ`==`ï¼‰çš„å®ç°ã€‚è¯¥`Equatable`åè®®è¦æ±‚ä»»ä½•ç¬¦åˆçš„å®ç°éƒ½æ˜¯`==`ç­‰ä»·å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´`==`ï¼Œå¯¹äºï¼Œå’Œçš„æ‰€æœ‰å€¼`a`ï¼Œçš„å®ç°éƒ½å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š`b``c`
>
> - `a == a` ï¼ˆåå°„æ€§ï¼‰
> - `a == b`æš—ç¤ºï¼ˆå¯¹ç§°ï¼‰`b == a`
> - `a == b && b == c`æš—ç¤ºï¼ˆä¼ é€’æ€§ï¼‰`a == c`
>
> æœ‰å…³ç¬¦åˆåè®®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[åè®®](https://docs.swift.org/swift-book/LanguageGuide/Protocols.html)ã€‚

## Setç±»å‹è¯­æ³•

Swifté›†çš„ç±»å‹å†™ä¸º`Set<Element>`ï¼Œå…¶ä¸­`Element`æ˜¯å…è®¸å­˜å‚¨é›†çš„ç±»å‹ã€‚ä¸æ•°ç»„ä¸åŒï¼Œé›†åˆæ²¡æœ‰ç­‰æ•ˆçš„é€Ÿè®°å½¢å¼ã€‚

## åˆ›å»ºå’Œåˆå§‹åŒ–ä¸€ä¸ªç©ºé›†

æ‚¨å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ªç‰¹å®šç±»å‹çš„ç©ºé›†ï¼š

```swift
var letters = Set<Character>()
print("letters is of type Set<Character> with \(letters.count) items.")
// Prints "letters is of type Set<Character> with 0 items."
```

> æ³¨æ„
>
> çš„ç±»å‹çš„`letters`å˜é‡è¢«æ¨æ–­ä¸º`Set<Character>`ï¼Œä»åˆå§‹çš„ç±»å‹ã€‚

æˆ–è€…ï¼Œå¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°å‚æ•°æˆ–å·²ç»é”®å…¥çš„å˜é‡æˆ–å¸¸é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç©ºæ•°ç»„æ–‡å­—åˆ›å»ºä¸€ä¸ªç©ºé›†ï¼š

```swift
letters.insert("a")
// letters now contains 1 value of type Character
letters = []
// letters is now an empty set, but is still of type Set<Character>
```

## ä½¿ç”¨æ•°ç»„æ–‡å­—åˆ›å»ºé›†åˆ

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ•°ç»„æ–‡å­—åˆå§‹åŒ–é›†ï¼Œè¿™æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼å†™ä¸ºé›†é›†åˆçš„ä¸€ç§ç®€ä¾¿æ–¹æ³•ã€‚

ä¸‹é¢çš„ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªåä¸º`favoriteGenres`å­˜å‚¨`String`å€¼çš„é›†åˆï¼š

```swift
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres has been initialized with three initial items
```

å°†è¯¥`favoriteGenres`å˜é‡å£°æ˜ä¸ºâ€œä¸€ç»„`String`å€¼â€ï¼Œå†™ä¸º`Set<String>`ã€‚ç”±äºæ­¤ç‰¹å®šé›†åˆå°†å€¼ç±»å‹æŒ‡å®šä¸º`String`ï¼Œå› æ­¤*ä»…*å…è®¸å­˜å‚¨`String`å€¼ã€‚åœ¨æ­¤ï¼Œ`favoriteGenres`é›†åˆè¢«åˆå§‹åŒ–å…·æœ‰ä¸‰ä¸ª`String`å€¼ï¼ˆ`"Rock"`ï¼Œ`"Classical"`ï¼Œå’Œï¼‰ï¼Œé˜µåˆ—å­—é¢å†…å†™å…¥ã€‚`"Hip hop"`

> æ³¨æ„
>
> å› ä¸ºåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­æ·»åŠ å’Œåˆ é™¤äº†é¡¹ï¼Œæ‰€ä»¥è¯¥`favoriteGenres`é›†åˆè¢«å£°æ˜ä¸ºå˜é‡ï¼ˆå¸¦æœ‰`var`å¼•å…¥ç¨‹åºï¼‰è€Œä¸æ˜¯å¸¸é‡ï¼ˆå¸¦æœ‰`let`å¼•å…¥ç¨‹åºï¼‰ã€‚

ä¸èƒ½ä»…ä»æ•°ç»„æ–‡å­—ä¸­æ¨æ–­å‡ºé›†åˆç±»å‹ï¼Œå› æ­¤`Set`å¿…é¡»æ˜¾å¼å£°æ˜è¯¥ç±»å‹ã€‚ä½†æ˜¯ï¼Œç”±äºSwiftçš„ç±»å‹æ¨æ–­ï¼Œå¦‚æœä½¿ç”¨ä»…åŒ…å«ä¸€ç§ç±»å‹å€¼çš„æ•°ç»„æ–‡å­—è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™æ— éœ€ç¼–å†™é›†åˆå…ƒç´ çš„ç±»å‹ã€‚çš„åˆå§‹åŒ–`favoriteGenres`æœ¬æ¥å¯ä»¥å†™æˆè¾ƒçŸ­çš„å½¢å¼ï¼š

```swift
var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```

å› ä¸ºæ•°ç»„æ–‡å­—ä¸­çš„æ‰€æœ‰å€¼éƒ½æ˜¯åŒä¸€ç±»å‹ï¼Œæ‰€ä»¥Swiftå¯ä»¥æ¨æ–­å‡º`Set<String>`è¯¥`favoriteGenres`å˜é‡æ˜¯æ­£ç¡®çš„ç±»å‹ã€‚

## è®¿é—®å’Œä¿®æ”¹é›†åˆ

æ‚¨å¯ä»¥é€šè¿‡å…¶æ–¹æ³•å’Œå±æ€§è®¿é—®å’Œä¿®æ”¹é›†åˆã€‚

è¦æ‰¾å‡ºé›†åˆä¸­çš„é¡¹ç›®æ•°ï¼Œè¯·æ£€æŸ¥å…¶åªè¯»`count`å±æ€§ï¼š

```swift
print("I have \(favoriteGenres.count) favorite music genres.")
// Prints "I have 3 favorite music genres."
```

ä½¿ç”¨Boolean `isEmpty`å±æ€§ä½œä¸ºæ£€æŸ¥è¯¥`count`å±æ€§æ˜¯å¦ç­‰äºçš„å¿«æ·æ–¹å¼`0`ï¼š

```swift
if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}
// Prints "I have particular music preferences."
```

æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨é›†åˆçš„`insert(_:)`æ–¹æ³•å°†æ–°é¡¹ç›®æ·»åŠ åˆ°é›†åˆä¸­ï¼š

```swift
favoriteGenres.insert("Jazz")
// favoriteGenres now contains 4 items
```

æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨é›†åˆçš„`remove(_:)`æ–¹æ³•ä»é›†åˆä¸­åˆ é™¤é¡¹ç›®ï¼Œè¯¥æ–¹æ³•å°†åˆ é™¤è¯¥é¡¹ç›®ï¼ˆå¦‚æœå®ƒæ˜¯é›†åˆçš„æˆå‘˜ï¼‰ï¼Œå¹¶è¿”å›åˆ é™¤çš„å€¼ï¼Œæˆ–è€…`nil`å¦‚æœé›†åˆä¸­ä¸åŒ…å«è¯¥å€¼åˆ™è¿”å›ã€‚æˆ–è€…ï¼Œå¯ä»¥ä½¿ç”¨å…¶`removeAll()`æ–¹æ³•åˆ é™¤é›†åˆä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚

```swift
if let removedGenre = favoriteGenres.remove("Rock") {
    print("\(removedGenre)? I'm over it.")
} else {
    print("I never much cared for that.")
}
// Prints "Rock? I'm over it."
```

è‹¥è¦æ£€æŸ¥é›†åˆæ˜¯å¦åŒ…å«ç‰¹å®šé¡¹ç›®ï¼Œè¯·ä½¿ç”¨`contains(_:)`æ–¹æ³•ã€‚

```swift
if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}
// Prints "It's too funky in here."
```

## éå†ä¸€ç»„

æ‚¨å¯ä»¥ä½¿ç”¨`for`- `in`å¾ªç¯éå†é›†åˆä¸­çš„å€¼ã€‚

```swift
for genre in favoriteGenres {
    print("\(genre)")
}
// Classical
// Jazz
// Hip hop
```

æ¬²äº†è§£æ›´å¤šæœ‰å…³`for`- `in`å¾ªç¯ï¼Œè§[ä¸ºï¼Œåœ¨å¾ªç¯ä¸­](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID121)ã€‚

Swiftçš„`Set`ç±»å‹æ²¡æœ‰å®šä¹‰çš„é¡ºåºã€‚è¦æŒ‰ç‰¹å®šé¡ºåºè¿­ä»£é›†åˆçš„å€¼ï¼Œè¯·ä½¿ç”¨`sorted()`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†é›†åˆçš„å…ƒç´ ä½œä¸ºä½¿ç”¨`<`æ“ä½œç¬¦æ’åºçš„æ•°ç»„è¿”å›ã€‚

```swift
for genre in favoriteGenres.sorted() {
    print("\(genre)")
}
// Classical
// Hip hop
// Jazz
```

# æ‰§è¡Œé›†åˆæ“ä½œ

æ‚¨å¯ä»¥æœ‰æ•ˆåœ°æ‰§è¡ŒåŸºæœ¬çš„é›†åˆæ“ä½œï¼Œä¾‹å¦‚å°†ä¸¤ä¸ªé›†åˆç»„åˆåœ¨ä¸€èµ·ï¼Œç¡®å®šä¸¤ä¸ªé›†åˆå…·æœ‰å“ªäº›å…±åŒå€¼ï¼Œæˆ–è€…ç¡®å®šä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«å…¨éƒ¨ï¼Œéƒ¨åˆ†æˆ–ä¸åŒ…å«ç›¸åŒçš„å€¼ã€‚

## åŸºæœ¬è®¾ç½®æ“ä½œ

ä¸‹å›¾æç»˜äº†ä¸¤ä¸ªé›†åˆ- `a`å’Œ`b`-ï¼Œå…¶ä¸­å„ä¸ªé›†åˆæ“ä½œçš„ç»“æœç”±é˜´å½±åŒºåŸŸè¡¨ç¤ºã€‚

![setVennDiagram_2x.png](./images/setVennDiagram_2x.png)

- ä½¿ç”¨è¯¥`intersection(_:)`æ–¹æ³•åˆ›å»ºä»…å…·æœ‰ä¸¤ä¸ªé›†åˆå…±æœ‰çš„å€¼çš„æ–°é›†åˆã€‚
- ä½¿ç”¨è¯¥`symmetricDifference(_:)`æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°é›†åˆï¼Œå…¶ä¸­ä¸¤ä¸ªé›†åˆä¸­éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œä½†ä¸èƒ½åŒæ—¶åŒ…å«ä¸¤ä¸ªé›†åˆä¸­çš„å€¼ã€‚
- ä½¿ç”¨è¯¥`union(_:)`æ–¹æ³•åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆä¸­æ‰€æœ‰å€¼çš„æ–°é›†åˆã€‚
- ä½¿ç”¨è¯¥`subtracting(_:)`æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°é›†åˆï¼Œå…¶å€¼ä¸åœ¨æŒ‡å®šé›†åˆä¸­ã€‚

```swift
let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
```

## è®¾ç½®æˆå‘˜èµ„æ ¼å’Œå¹³ç­‰

ä¸‹å›¾æè¿°äº†å’Œçš„ä¸‰ä¸ªé›†åˆ`a`ï¼Œ`b`å…¶ä¸­`c`é‡å çš„åŒºåŸŸè¡¨ç¤ºé›†åˆä¹‹é—´å…±äº«çš„å…ƒç´ ã€‚Set `a`æ˜¯set çš„*è¶…*é›†`b`ï¼Œå› ä¸ºå®ƒ`a`åŒ…å«ä¸­çš„æ‰€æœ‰å…ƒç´ `b`ã€‚ç›¸åï¼Œset `b`æ˜¯set çš„*å­*é›†`a`ï¼Œå› ä¸ºin `b`ä¸­çš„æ‰€æœ‰å…ƒç´ ä¹ŸåŒ…å«åœ¨ä¸­`a`ã€‚é›†`b`å’Œé›†`c`å½¼æ­¤*ä¸ç›¸äº¤*ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å…±åŒçš„å…ƒç´ ã€‚

![setEulerDiagram_2x.png](./images/setEulerDiagram_2x.png)

- ä½¿ç”¨â€œç­‰äºâ€è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰ç¡®å®šä¸¤ç»„æ˜¯å¦åŒ…å«æ‰€æœ‰ç›¸åŒçš„å€¼ã€‚
- ä½¿ç”¨è¯¥`isSubset(of:)`æ–¹æ³•ç¡®å®šé›†åˆä¸­çš„æ‰€æœ‰å€¼æ˜¯å¦éƒ½åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­ã€‚
- ä½¿ç”¨è¯¥`isSuperset(of:)`æ–¹æ³•ç¡®å®šé›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å€¼ã€‚
- ä½¿ç”¨`isStrictSubset(of:)`æˆ–`isStrictSuperset(of:)`æ–¹æ³•ç¡®å®šé›†åˆæ˜¯å­é›†è¿˜æ˜¯è¶…é›†ï¼Œä½†ä¸ç­‰äºæŒ‡å®šçš„é›†åˆã€‚
- ä½¿ç”¨è¯¥`isDisjoint(with:)`æ–¹æ³•ç¡®å®šä¸¤ä¸ªé›†åˆæ˜¯å¦æ²¡æœ‰å…±åŒçš„å€¼ã€‚

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
```

# å­—å…¸

ç”²*å­—å…¸*å­˜å‚¨ç›¸åŒç±»å‹çš„å¯†é’¥å’Œä¸€ä¸ªé›†åˆä¸­çš„ç›¸åŒç±»å‹çš„å€¼ä¸æ²¡æœ‰å®šä¹‰æ’åºä¹‹é—´çš„å…³è”ã€‚æ¯ä¸ªå€¼éƒ½ä¸å”¯ä¸€*é”®*ç›¸å…³è”ï¼Œè¯¥*é”®*å……å½“å­—å…¸ä¸­è¯¥å€¼çš„æ ‡è¯†ç¬¦ã€‚ä¸æ•°ç»„ä¸­çš„é¡¹ç›®ä¸åŒï¼Œå­—å…¸ä¸­çš„é¡¹ç›®æ²¡æœ‰æŒ‡å®šçš„é¡ºåºã€‚å½“æ‚¨éœ€è¦æ ¹æ®å…¶æ ‡è¯†ç¬¦æŸ¥æ‰¾å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯å…¸ï¼Œè¿™ä¸ä½¿ç”¨ç°å®ä¸–ç•Œè¯å…¸æŸ¥æ‰¾ç‰¹å®šå•è¯çš„å®šä¹‰çš„æ–¹å¼å‡ ä¹ç›¸åŒã€‚

> æ³¨æ„
>
> Swiftçš„`Dictionary`ç±»å‹æ¡¥æ¥åˆ°Foundationçš„`NSDictionary`ç±»ã€‚
>
> æœ‰å…³`Dictionary`ä¸Foundationå’ŒCocoaä¸€èµ·ä½¿ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§[åœ¨å­—å…¸å’ŒNSDictionaryä¹‹é—´æ¶æ¡¥](https://developer.apple.com/documentation/swift/dictionary#2846239)ã€‚

## å­—å…¸ç±»å‹é€Ÿè®°è¯­æ³•

Swiftå­—å…¸çš„ç±»å‹å®Œæ•´åœ°å†™ä¸ºï¼Œå…¶ä¸­æ˜¯å¯ä»¥ç”¨ä½œå­—å…¸é”®çš„å€¼çš„ç±»å‹ï¼Œå¹¶ä¸”æ˜¯å­—å…¸ä¸ºè¿™äº›é”®å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚`Dictionary<Key, Value>``Key``Value`

> æ³¨æ„
>
> å­—å…¸`Key`ç±»å‹å¿…é¡»ç¬¦åˆ`Hashable`åè®®ï¼Œä¾‹å¦‚é›†åˆçš„å€¼ç±»å‹ã€‚

æ‚¨è¿˜å¯ä»¥å°†ç®€å†™å½¢å¼çš„å­—å…¸ç±»å‹å†™ä¸ºã€‚å°½ç®¡è¿™ä¸¤ç§å½¢å¼åœ¨åŠŸèƒ½ä¸Šæ˜¯ç›¸åŒçš„ï¼Œä½†é€Ÿè®°å½¢å¼æ˜¯é¦–é€‰ï¼Œåœ¨å¼•ç”¨å­—å…¸ç±»å‹æ—¶åœ¨æœ¬æŒ‡å—ä¸­ä½¿ç”¨ã€‚`[Key: Value]`

## åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸

ä¸æ•°ç»„ä¸€æ ·ï¼Œæ‚¨å¯ä»¥`Dictionary`ä½¿ç”¨åˆå§‹åŒ–ç¨‹åºè¯­æ³•åˆ›å»ºæŸç§ç±»å‹çš„ç©ºå€¼ï¼š

```swift
var namesOfIntegers = [Int: String]()
// namesOfIntegers is an empty [Int: String] dictionary
```

æœ¬ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªç©ºçš„ç±»å‹å­—å…¸æ¥å­˜å‚¨äººç±»å¯è¯»çš„æ•´æ•°å€¼åç§°ã€‚å®ƒçš„é”®æ˜¯ç±»å‹ï¼Œå…¶å€¼æ˜¯ç±»å‹ã€‚

å¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç©ºçš„å­—å…¸æ–‡å­—åˆ›å»ºä¸€ä¸ªç©ºçš„å­—å…¸ï¼Œè¯¥æ–‡å­—è¢«å†™ä¸º`[:]`ï¼ˆä¸€å¯¹æ–¹æ‹¬å·å†…çš„å†’å·ï¼‰ï¼š

```swift
namesOfIntegers[16] = "sixteen"
// namesOfIntegers now contains 1 key-value pair
namesOfIntegers = [:]
// namesOfIntegers is once again an empty dictionary of type [Int: String]
```

## ç”¨å­—å…¸æ–‡å­—åˆ›å»ºå­—å…¸

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨*å­—å…¸å¸¸é‡*åˆå§‹åŒ–å­—å…¸ï¼Œ*å­—å…¸å¸¸é‡çš„*è¯­æ³•ä¸å‰é¢çœ‹åˆ°çš„æ•°ç»„å¸¸é‡ç›¸ä¼¼ã€‚å­—å…¸æ–‡å­—æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®-å€¼å¯¹ä½œä¸º`Dictionary`é›†åˆç¼–å†™çš„ä¸€ç§ç®€ä¾¿æ–¹æ³•ã€‚

ç”²*é”®å€¼å¯¹*æ˜¯ä¸€ä¸ªé”®å’Œå€¼çš„ç»„åˆã€‚åœ¨å­—å…¸æ–‡å­—ä¸­ï¼Œæ¯ä¸ªé”®å€¼å¯¹ä¸­çš„é”®å’Œå€¼éƒ½ç”¨å†’å·åˆ†éš”ã€‚é”®å€¼å¯¹ä»¥åˆ—è¡¨å½¢å¼ç¼–å†™ï¼Œç”¨é€—å·åˆ†éš”ï¼Œå¹¶ç”¨æ–¹æ‹¬å·åŒ…å›´ï¼š

[key 1: value 1, key 2: value 2, key 3: value 3]

ä¸‹é¢çš„ç¤ºä¾‹åˆ›å»ºä¸€ä¸ªå­—å…¸æ¥å­˜å‚¨å›½é™…æœºåœºçš„åç§°ã€‚åœ¨æ­¤å­—å…¸ä¸­ï¼Œé”®æ˜¯ä¸‰ä¸ªå­—æ¯çš„å›½é™…èˆªç©ºè¿è¾“åä¼šä»£ç ï¼Œå€¼æ˜¯æœºåœºåç§°ï¼š

```swift
var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

è¯¥`airports`å­—å…¸è¢«å£°æ˜ä¸ºå…·æœ‰å¼çš„ï¼Œæ„æ€æ˜¯â€œä¸€é”®å‡ä¸ºç±»å‹çš„ï¼Œå¹¶ä¸”å…¶å€¼æ˜¯ç±»å‹çš„ä¹Ÿâ€ã€‚

> æ³¨æ„
>
> ç”±äºåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­å°†æ›´å¤šçš„æœºåœºæ·»åŠ åˆ°å­—å…¸ä¸­ï¼Œå› æ­¤è¯¥`airports`å­—å…¸è¢«å£°æ˜ä¸ºå˜é‡ï¼ˆå¸¦æœ‰`var`å¼•å…¥ç¨‹åºï¼‰ï¼Œè€Œä¸æ˜¯å¸¸é‡ï¼ˆå¸¦æœ‰`let`å¼•å…¥ç¨‹åºï¼‰ã€‚

ä½¿ç”¨`airports`åŒ…å«ä¸¤ä¸ªé”®å€¼å¯¹çš„å­—å…¸æ–‡å­—åˆå§‹åŒ–å­—å…¸ã€‚ç¬¬ä¸€å¯¹å…·æœ‰çš„é”®`"YYZ"`å’Œçš„å€¼ã€‚ç¬¬äºŒå¯¹å…·æœ‰çš„é”®å’Œçš„å€¼ã€‚`"Toronto Pearson"``"DUB"``"Dublin"`

è¯¥è¯å…¸æ–‡å­—åŒ…å«ä¸¤å¯¹ã€‚æ­¤é”®å€¼ç±»å‹ä¸å˜é‡å£°æ˜çš„ç±»å‹ï¼ˆä»…åŒ…å«é”®å’Œä»…å€¼çš„å­—å…¸ï¼‰åŒ¹é…ï¼Œå› æ­¤ï¼Œå…è®¸ä½¿ç”¨å­—å…¸å¸¸é‡æ¥åˆ†é…å…·æœ‰ä¸¤ä¸ªåˆå§‹é¡¹çš„å­—å…¸æ¥åˆå§‹åŒ–å­—å…¸ã€‚`String: String``airports``String``String``airports`

ä¸æ•°ç»„ä¸€æ ·ï¼Œå¦‚æœä½¿ç”¨é”®å’Œå€¼å…·æœ‰ä¸€è‡´ç±»å‹çš„å­—å…¸æ–‡å­—æ¥åˆå§‹åŒ–å­—å…¸ï¼Œåˆ™ä¸å¿…ç¼–å†™å­—å…¸çš„ç±»å‹ã€‚çš„åˆå§‹åŒ–`airports`æœ¬æ¥å¯ä»¥å†™æˆè¾ƒçŸ­çš„å½¢å¼ï¼š

```swift
var airports = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

å› ä¸ºæ–‡å­—ä¸­çš„æ‰€æœ‰é”®å½¼æ­¤éƒ½å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œå¹¶ä¸”æ‰€æœ‰å€¼ä¹Ÿéƒ½å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œæ‰€ä»¥Swiftå¯ä»¥æ¨æ–­å‡ºè¿™æ˜¯ç”¨äºå­—å…¸çš„æ­£ç¡®ç±»å‹ã€‚

## è®¿é—®å’Œä¿®æ”¹å­—å…¸

æ‚¨å¯ä»¥é€šè¿‡å…¶æ–¹æ³•å’Œå±æ€§æˆ–ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥è®¿é—®å’Œä¿®æ”¹å­—å…¸ã€‚

ä¸æ•°ç»„ä¸€æ ·ï¼Œæ‚¨å¯ä»¥`Dictionary`é€šè¿‡æ£€æŸ¥å…¶åªè¯»`count`å±æ€§æ¥æ‰¾å‡ºaä¸­çš„é¡¹ç›®æ•°ï¼š

```swift
print("The airports dictionary contains \(airports.count) items.")
// Prints "The airports dictionary contains 2 items."
```

ä½¿ç”¨Boolean `isEmpty`å±æ€§ä½œä¸ºæ£€æŸ¥è¯¥`count`å±æ€§æ˜¯å¦ç­‰äºçš„å¿«æ·æ–¹å¼`0`ï¼š

```swift
if airports.isEmpty {
    print("The airports dictionary is empty.")
} else {
    print("The airports dictionary is not empty.")
}
// Prints "The airports dictionary is not empty."
```

æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•å°†æ–°é¡¹ç›®æ·»åŠ åˆ°å­—å…¸ä¸­ã€‚ä½¿ç”¨é€‚å½“ç±»å‹çš„æ–°é”®ä½œä¸ºä¸‹æ ‡ç´¢å¼•ï¼Œå¹¶åˆ†é…é€‚å½“ç±»å‹çš„æ–°å€¼ï¼š

```swift
airports["LHR"] = "London"
// the airports dictionary now contains 3 items
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ›´æ”¹ä¸ç‰¹å®šé”®å…³è”çš„å€¼ï¼š

```swift
airports["LHR"] = "London Heathrow"
// the value for "LHR" has been changed to "London Heathrow"
```

ä½œä¸ºä¸‹æ ‡çš„æ›¿ä»£`updateValue(_:forKey:)`æ–¹æ³•ï¼Œè¯·ä½¿ç”¨å­—å…¸çš„æ–¹æ³•æ¥è®¾ç½®æˆ–æ›´æ–°ç‰¹å®šé”®çš„å€¼ã€‚åƒä¸Šé¢çš„ä¸‹æ ‡ç¤ºä¾‹ä¸€æ ·ï¼Œ`updateValue(_:forKey:)`å¦‚æœä¸å­˜åœ¨é”®ï¼Œåˆ™è¯¥æ–¹æ³•è®¾ç½®é”®çš„å€¼ï¼›å¦‚æœè¯¥é”®å·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°è¯¥å€¼ã€‚ä½†æ˜¯ï¼Œä¸ä¸‹æ ‡ä¸åŒï¼Œè¯¥`updateValue(_:forKey:)`æ–¹æ³•åœ¨æ‰§è¡Œæ›´æ–°åè¿”å›*æ—§*å€¼ã€‚è¿™ä½¿æ‚¨å¯ä»¥æ£€æŸ¥æ˜¯å¦è¿›è¡Œäº†æ›´æ–°ã€‚

è¯¥`updateValue(_:forKey:)`æ–¹æ³•è¿”å›å­—å…¸å€¼ç±»å‹çš„å¯é€‰å€¼ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­˜å‚¨`String`å€¼çš„å­—å…¸ï¼Œè¯¥æ–¹æ³•è¿”å›ç±»å‹ä¸º`String?`æˆ–â€œ optional `String`â€çš„å€¼ã€‚å¦‚æœæ›´æ–°ä¹‹å‰å­˜åœ¨ä¸€ä¸ªå¯†é’¥ï¼Œæˆ–è€…`nil`ä¸å­˜åœ¨ä»»ä½•å€¼ï¼Œåˆ™æ­¤å¯é€‰å€¼åŒ…å«è¯¥å¯†é’¥çš„æ—§å€¼ï¼š

```swift
if let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") {
    print("The old value for DUB was \(oldValue).")
}
// Prints "The old value for DUB was Dublin."
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ä»å­—å…¸ä¸­æ£€ç´¢ç‰¹å®šé”®çš„å€¼ã€‚å› ä¸ºå¯ä»¥è¯·æ±‚ä¸å­˜åœ¨ä»»ä½•å€¼çš„é”®ï¼Œæ‰€ä»¥å­—å…¸çš„ä¸‹æ ‡è¿”å›å­—å…¸å€¼ç±»å‹çš„å¯é€‰å€¼ã€‚å¦‚æœå­—å…¸åŒ…å«æ‰€è¯·æ±‚é”®çš„å€¼ï¼Œåˆ™ä¸‹æ ‡å°†è¿”å›ä¸€ä¸ªå¯é€‰å€¼ï¼Œå…¶ä¸­åŒ…å«è¯¥é”®çš„ç°æœ‰å€¼ã€‚å¦åˆ™ï¼Œä¸‹æ ‡è¿”å›`nil`ï¼š

```swift
if let airportName = airports["DUB"] {
    print("The name of the airport is \(airportName).")
} else {
    print("That airport is not in the airports dictionary.")
}
// Prints "The name of the airport is Dublin Airport."
```

æ‚¨å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ï¼Œé€šè¿‡`nil`ä¸ºè¯¥é”®åˆ†é…ä¸€ä¸ªå€¼æ¥ä»å­—å…¸ä¸­åˆ é™¤é”®å€¼å¯¹ï¼š

```swift
airports["APL"] = "Apple International"
// "Apple International" is not the real airport for APL, so delete it
airports["APL"] = nil
// APL has now been removed from the dictionary
```

æˆ–è€…ï¼Œä½¿ç”¨`removeValue(forKey:)`æ–¹æ³•ä»å­—å…¸ä¸­åˆ é™¤é”®/å€¼å¯¹ã€‚æ­¤æ–¹æ³•åˆ é™¤é”®å€¼å¯¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰å¹¶è¿”å›åˆ é™¤çš„å€¼ï¼Œæˆ–è€…`nil`å¦‚æœä¸å­˜åœ¨å€¼åˆ™è¿”å›ï¼š

```swift
if let removedValue = airports.removeValue(forKey: "DUB") {
    print("The removed airport's name is \(removedValue).")
} else {
    print("The airports dictionary does not contain a value for DUB.")
}
// Prints "The removed airport's name is Dublin Airport."
```

## éå†å­—å…¸

æ‚¨å¯ä»¥ç”¨å­—å…¸éå†é”®å€¼å¯¹`for`- `in`ç¯ã€‚å­—å…¸ä¸­çš„æ¯ä¸ªé¡¹ç›®éƒ½ä½œä¸ºä¸€ä¸ªå…ƒç»„è¿”å›ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å°†å…ƒç»„çš„æˆå‘˜åˆ†è§£ä¸ºä¸´æ—¶å¸¸é‡æˆ–å˜é‡ï¼š

```swift
for (airportCode, airportName) in airports {
    print("\(airportCode): \(airportName)")
}
// LHR: London Heathrow
// YYZ: Toronto Pearson
```

æ¬²äº†è§£æ›´å¤šæœ‰å…³`for`- `in`å¾ªç¯ï¼Œè§[ä¸ºï¼Œåœ¨å¾ªç¯ä¸­](https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html#ID121)ã€‚

æ‚¨è¿˜å¯ä»¥é€šè¿‡è®¿é—®å­—å…¸çš„é”®æˆ–å€¼çš„`keys`å’Œ`values`å±æ€§æ¥æ£€ç´¢å…¶å¯è¿­ä»£é›†åˆï¼š

```swift
for airportCode in airports.keys {
    print("Airport code: \(airportCode)")
}
// Airport code: LHR
// Airport code: YYZ

for airportName in airports.values {
    print("Airport name: \(airportName)")
}
// Airport name: London Heathrow
// Airport name: Toronto Pearson
```

å¦‚æœæ‚¨éœ€è¦é€šè¿‡å¸¦æœ‰`Array`å®ä¾‹çš„APIä½¿ç”¨å­—å…¸çš„é”®æˆ–å€¼ï¼Œè¯·ä½¿ç”¨`keys`æˆ–`values`å±æ€§åˆå§‹åŒ–æ–°æ•°ç»„ï¼š

```swift
let airportCodes = [String](airports.keys)
// airportCodes is ["LHR", "YYZ"]

let airportNames = [String](airports.values)
// airportNames is ["London Heathrow", "Toronto Pearson"]
```

Swiftçš„`Dictionary`ç±»å‹æ²¡æœ‰å®šä¹‰çš„é¡ºåºã€‚è¦ä»¥ç‰¹å®šé¡ºåºéå†å­—å…¸çš„é”®æˆ–å€¼ï¼Œè¯·ä½¿ç”¨`sorted()`å…¶`keys`æˆ–`values`å±æ€§ä¸Šçš„æ–¹æ³•ã€‚