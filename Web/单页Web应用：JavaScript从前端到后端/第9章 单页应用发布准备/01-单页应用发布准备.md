

## 
  第9章 单页应用发布准备


本章涵盖的内容

单页应用针对搜索引擎的优化

使用Google Analytics

把静态内容放到内容分发网络（CDN）上

记录客户端错误

缓存和缓存破坏（cache bust）

本章以在第8章中编写的代码为基础。建议把第8章的整个目录结构复制一份，放到一个新的“chapter_9”目录中，在新的目录中更新文件。

我们已经完成了响应式单页应用的编写，使用了经过精心测试的架构，但还剩下一些挑战，它们和编程的关系不大，更多的是和运维有关。

我们需要对单页应用进行修改，这样用户就可以使用Google和其他搜索引擎找到他们所需的东西。我们的Web服务器需要和爬虫机器人进行交互，它们索引的内容是不同的，因为爬虫不会执行那些单页应用用来生成内容的JavaScript。我们也希望使用分析工具。传统网站的数据分析，通常是在每张HTML页面里面添加一段JavaScript代码来收集数据。由于单页应用的所有HTML都由JavaScript生成，所以需要使用不同的方法。

我们也希望增强单页应用的功能，提供详细的日志信息：网站流量、用户行为和错误信息。对于传统网站，服务器的日志功能已经记录了很多有效的信息。单页应用把大部分的用户交互逻辑移到了客户端，所以需要使用另外的方法。我们希望单页应用有很高的响应性。提升响应时间的一种方法是使用CDN来提供静态文件和数据的服务。另外一种方法是使用HTTP缓存和服务器缓存。

先介绍“让单页应用的内容可搜索”。

