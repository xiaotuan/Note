### 7.1.1 根据配置规则进行自动快照

Redis允许用户自定义快照条件，当符合快照条件时，Redis会自动执行快照操作。进行快照的条件可以由用户在配置文件中自定义，由两个参数构成：时间窗口 `M` 和改动的键的个数N。每当时间M内被更改的键的个数大于N时，即符合自动快照条件。例如Redis安装目录中包含的样例配置文件中预置的3个条件：

```shell
save 900 1
save 300 10
save 60 10000

```

每条快照条件占一行，并且以 `save` 参数开头。同时可以存在多个条件，条件之间是“或”的关系。就这个例子而言， `save 900 1` 的意思是在15分钟（即900秒）内有一个或一个以上的键被更改则进行快照。同理， `save 300 10` 表示在300秒内至少有10个键被修改则进行快照。

