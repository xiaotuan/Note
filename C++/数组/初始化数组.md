[toc]

### 1. 声明时初始化数组

可以在声明数组的同时，初始化数组。只需提供一个用逗号分隔的值列表（初始化列表），并将它们用花括号括起来即可。列表中的空格是可选的。如果没有初始化数组中的元素，则其值将是不确定的，这意味着元素的值为以前驻留在该内存单元中的值。例如：

```cpp
int yamcosts[3] = { 20, 30, 5 };
```

### 2. C++ 11 数组初始化方法

C++ 11 允许使用大括号的初始化方式应用于数组初始化。

首先，初始化数组时，可省略等号（=）：

```cpp
double earnings[4] {1.2e4, 1.6e4, 1.1e4, 1.7e4};	// okay with C++11
```

其次，可不在大括号内包含任何东西，这将把所有元素都设置为零：

```cpp
unsigned int counts[10] = {};	// all elements set to 0
float balances[100] {};	// all elements set to 0
```

第三，列表初始化禁止缩窄转换。

```cpp
long plifs[] = {25, 92, 3.0};	// not allowed
char slifs[4] {'h', 'i', 1122011, '\0'};	// not allow
char tlifs[4] {'h', 'i', 112, '\0'};	// allow
```

### 3. 初始化规则

1. 只有在定义数组时才能使用初始化，此后就不能使用了，也不能将一个数组赋给另一个数组。

   ```cpp
   int cards[4] = {3, 6,8, 10};	// okay
   int hand[4];	// okay
   hand[4] = {5, 6, 7, 9};	// not allowed
   hand = cards;	// not allowed
   ```

2. 初始化数组时，提供的值可以少于数组的元素数目。

   ```cpp
   float hoteTips[5] = { 5.0, 2.5 };
   ```

   如果只对数组的一部分进行初始化，则编译器将把其他元素设置为 0。因此，将数组中所有的元素都初始化为 0 非常简单——只要显示地将第一个元素初始化为 0，然后让编译器将其他元素都初始化为 0即可：

   ```cpp
   long totals[500] = {0};
   ```

3. 如果初始化数组时方括号内（`[]`）为空，C++ 编译器将计算元素个数。

   ```cpp
   short things[] = {1, 5, 3, 8};	// things 数组包含 4 个元素
   ```

   

