### 3.6　局部和全局作用域

在被调用函数内赋值的变元和变量，处于该函数的“局部作用域”中。在所有函数之外赋值的变量，处于“全局作用域”中。处于局部作用域中的变量，被称为“局部变量”。处于全局作用域中的变量，被称为“全局变量”。一个变量必属于其中一种，不能既是局部的又是全局的。

可以将“作用域”看成变量的容器。当作用域被销毁时，所有保存在该作用域内的变量的值就被丢弃了。只有一个全局作用域，它是在程序开始时创建的。如果程序终止，全局作用域就被销毁，它的所有变量就被丢弃了。否则，下次你运行程序的时候，这些变量就会记住它们上次运行时的值。

一个函数被调用时，就创建了一个局部作用域。在这个函数内赋值的所有变量，存在于该局部作用域内。该函数返回时，这个局部作用域就被销毁了，这些变量就丢失了。下次调用这个函数时，局部变量不会记得该函数上次被调用时它们保存的值。

作用域很重要，理由如下。

+ 全局作用域中的代码不能使用任何局部变量。
+ 局部作用域中的代码可以访问全局变量。
+ 一个函数的局部作用域中的代码，不能使用其他局部作用域中的变量。
+ 在不同的作用域中，你可以用相同的名字命名不同的变量。也就是说，可以有一个名为 `spam` 的局部变量和一个名为 `spam` 的全局变量。

Python设计了不同的作用域，而不是让所有变量都成为全局变量，这是有理由的。因为这样一来，当用特定函数调用中的代码来修改变量时，该函数与程序其他部分的交互只能通过它的参数和返回值来进行。这缩小了可能导致bug的代码作用域。如果程序只包含全局变量，又有一个变量赋值错误的bug，那就很难追踪这个赋值错误发生的位置。它可能在程序的任何地方赋值，而你的程序可能有几百到几千行！但如果bug是因为局部变量错误赋值，你就会知道，只有那一个函数中的代码可能产生赋值错误。

虽然在小程序中使用全局变量没有太大问题，但当程序变得越来越大时，依赖全局变量就是一个坏习惯。

