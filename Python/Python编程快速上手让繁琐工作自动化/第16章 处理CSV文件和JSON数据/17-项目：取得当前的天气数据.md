### 16.5　项目：取得当前的天气数据

检查天气似乎相当简单：打开Web浏览器，在地址栏输入天气网站的URL（或搜索天气，然后单击链接），等待页面加载，跳过所有的广告，等等。

其实，如果有一个程序能够下载今后几天的天气预报，并以纯文本方式输出，那么就可以跳过很多无聊的步骤。该程序利用第12章介绍的 `requests` 模块来从网站下载数据。

总的来说，该程序需要完成以下任务。

1．从命令行读取请求的位置。

2．从OpenWeather官网下载JSON天气数据。

3．将JSON数据字符串转换成Python的数据结构。

4．输出今天和未来两天的天气。

因此，代码将执行以下操作。

1．连接 `sys.argv` 中的字符串以得到位置。

2．调用 `requests.get()` 以下载天气数据。

3．调用 `json.loads()` 以将JSON数据转换为Python数据结构。

4．输出天气预报。

针对这个项目，打开一个新的文件编辑器窗口，并保存为getOpenWeather.py。然后在浏览器中访问OpenWeather官网，注册一个免费账户，并获得一个API密钥（也叫应用程序ID）对于Open-
Weather-Map服务来说，它是一个字符串代码，形式如 `'30144aba38018987d84710d0e319281e'` 。你不需要为这项服务付费，除非你打算每分钟调用60次以上的API。保管好你的API密钥：任何知道它的人都可以写出脚本，并使用你的账户使用配额。

