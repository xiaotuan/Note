### 你在乎吗

考虑到调用Docker API和root访问权限是等价的，接下来的问题就是：“你在乎吗？”尽管这话看上去有点儿奇怪，安全全然是关乎信任的，如果你信任用户在他们操作的环境里安装软件，那么他们在那儿运行Docker就应该没有障碍。安全的困难性主要体现在多租户环境下。由于容器内的root用户在关键的方面都和容器外的root用户一样，因此系统内拥有众多不同的root用户可能会有隐患。



**提示**

一个多租户环境就是许多用户共享同样的资源的环境。举例来说，两个团队可能通过两台不同的虚拟机来共享同一台服务器。多租户通过共享硬件而非向特定应用提供硬件来节省开支。但是它可能带来一些足以抵消开支节省的挑战，包括服务可靠性以及安全隔离。



一些组织采取了把每个用户的Docker运行在专用虚拟机上的做法。这台虚拟机可以用于安全隔离、运维隔离或资源隔离。在虚拟机的信任界限内，用户运行Docker容器以获取其性能和运维上的好处。这就是Google计算引擎采取的方式，为了更进一步的安全性和其他一些运维上的好处，在用户的容器和运行的基础设施间再加一台虚拟机。谷歌公司拥有大量可用的计算资源，所以他们不介意这样做的开销。

