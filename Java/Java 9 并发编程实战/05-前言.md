# 前言

用户在使用计算机时，可以一次处理多件事情，例如，在文字处理器中编辑文字和阅读邮件的同时，还可以听音乐。之所以可以这样，是因为操作系统支持多任务的并发执行。并发编程是指使用平台提供的一些元素和机制，使多个任务可以同时进行，并且相互通信实现数据交换和同步。Java是一个并发平台，它提供很多在Java程序中执行并发任务的类。在每个版本中，Java都会为开发者增加一些功能，便于并发程序的开发。本书涵盖了Java 9并发API中最重要和实用的机制，以便于读者在程序中直接应用。这些机制包括：

+ 线程基本管理；
+ 线程同步机制；
+ 委派执行器进行线程创建和管理；
+ 使用fork/join 框架提升应用性能；
+ 使用并行流并行处理大数据集合，包含Java 9中新的响应流；
+ 并发应用的数据结构；
+ 调整并发类的一些默认行为，适应并发应用的测试需求；
+ 测试Java并发应用程序。

## 本书内容

第1章介绍线程的基本操作。通过基本案例介绍线程的创建、执行、状态及管理。

第2章涵盖Java同步代码的基本机制。这一章会详细介绍Lock和synchronized关键字。

第3章介绍在Java中线程间同步的高级工具，主要详解如何使用Phaser类同步多阶段任务。

第4章阐述如何将线程管理委派给执行器，包括线程运行、管理、获取并发任务执行结果。

第5章阐述fork/join框架的使用。该框架是由执行器提供的一种特殊的框架，旨在使用分而治之技术将任务分割为更小的子任务。

第6章阐述如何创建流并使用中间和终端操作来并行且高效地处理一个大数据集合。Java 8引入了流这一工具，Java 9则添加了部分新接口来实现反应式流。

第7章阐述如何使用Java提供的部分并发数据结构。这些数据结构可以用在并发程序中来规避同步代码块的使用。

第8章阐述如何根据用户的需要扩展Java并发API中最常用的部分类。

第9章阐述如何获取Java 7并发API中最常用的数据结构的一些状态信息。读者可以了解到如何使用一些免费工具（如Eclipse、NetBeans IDE或是FindBugs）来调试并发程序和找出程序中可能的bug。

第10章阐述各章中对于同步、Executor、fork/join框架、并发数据结构和监控并发对象等未包含的一些概念。

第11章阐述程序员在开发并发程序时的一些注意事项。

## 阅读本书前的准备工作

为了能更好地学习本书，你需要了解与Java编程语言相关的基本知识，此外还需要了解如何至少会使用一种IDE，如Eclipse或是NetBeans，但这并不是一个必要条件。

## 致读者

如果你是一位有兴趣提高并发编程和多线程知识水平并乐于发现Java 8和Java 9并发新特性的Java开发者，那么这本书就是为你准备的。如果你已经熟悉了一般的Java开发实践，那么掌握线程的基本知识将是一个优势。

## 本书结构

在本书中，你会发现很多频繁出现的标题（项目准备、案例实现、结果分析、其他说明、参考阅读）。

为了清楚说明如何完成一个案例，我们将采用以下形式。

### 项目准备

本部分介绍案例中可预见的内容，并介绍如何设置所需的任何软件或初步设置。

### 案例实现

本部分包含完成一个案例所需的步骤。

### 结果分析

本部分通常会对“案例实现”中所有发生的事情进行详细解释。

### 其他说明

本部分包含有关案例的其他信息，以便让读者更熟悉实战。

### 参考阅读

本部分给出了有助于了解案例的其他信息的有关章节。

## 体例

在本书中，会出现许多文本样式以区分不同类型的信息。下面是这些样式的一些示例及其含义。

代码单词的文本、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入内容和编程短文将按如下形式进行显示，如：“执行 `main()` 方法的代码。”

代码以如下样式展示：

```css
Thread task=new PrimeGenerator();
task.start();
```

新名词和重要的词以黑体显示。例如，在菜单或对话框中，你在计算机屏幕上看到的单词会显示在文本中，如“通过单击〖〓strong〓〗File〖〓/strong〓〗菜单下的〖〓strong〓〗New Project〖〓/strong〓〗选项创建新项目”。

> <img class="my_markdown" src="./images/1.png" style="width:73px;  height: 69px; " width="5%"/>　　警告或重要提示将在此文本框中展示。



> <img class="my_markdown" src="./images/2.png" style="width:69px;  height: 69px; " width="5%"/>　　提示和技巧将在此文本框中展示。



