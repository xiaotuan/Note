提供 DTD 的方式有多种。可以像下面这样将其纳入到 XML 文档中：

```xml
<?xml version="1.0"?>
<!DOCTYPE configuration[
	<!ELEMENT configuration ...>
	more rules
	...
]>
<configuration>
	...
</configuration>
```

在 XML 文档内部提供 DTD 不是很普遍，因为 DTD 会使文件长度变得很长。把 DTD 存储在外部会更具意义，SYSTEM 声明可以用来实现这个目标。你可以指定一个包含 DTD 的 URL，例如：

```xml
<!DOCTYPE configuration SYSTE "config.dtd">
```

或者

```xml
<!DOCTYPE configuration SYSTEM "http://myserver.com/config.dtd">
```

> 警告：如果你使用的是 DTD 的相对 URL（比如 "config.dtd"），那么要给解析器一个 `File` 或 `URL` 对象，而不是 `InputStream`。如果必须从一个输入流来解析，那么请提供一个实体解析器。

最后，有一个来源于 SGML 的用于识别 DTD 的机制，下面是一个例子：

```xml
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN" "http://java.sun.com/j2ee/dtds/web-app_2_2.dtd" >
```

如果 XML 处理器知道如何定位带有公共标识符的 DTD，那么就不需要 URL 了。

> 注意：如果你使用的是 DOM 解析器，并且想要支持 PUBLIC 标识符，请调用 `DocumentBuilder` 类的 `setEntityResolver` 方法来安装 `EntityResolver` 接口的某个实现类的一个对象。该接口只有一个方法：`resolveEntity`。下面是一个典型实现的代码框架：
>
> ```java
> class MyEntityResolver implements EntityResolver {
>     public InputSource resolveEntity(String publicID, String systemID) {
>         if (publicID.equals(a known ID)) {
>             return new InputSource(DTD data);
>         } else {
>             return null;	// use default behavior
>         }
>     }
> }
> ```

<center><b>用于元素内容的规则</b></center>

| 规则                                                         | 含义                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `E*`                                                         | 0 或多个 E                                                   |
| `E+`                                                         | 1 或多个 E                                                   |
| `E?`                                                         | 0 或 1 个 E                                                  |
| E<sub>1</sub> \| E<sub>2</sub> \| ... \| E<sub>n</sub>       | E<sub>1</sub>，E<sub>2</sub>，...，E<sub>n</sub> 中的一个    |
| E<sub>1</sub>，E<sub>2</sub>，...，E<sub>n</sub>             | E<sub>1</sub> 后面跟着 E<sub>2</sub>，...，E<sub>n</sub>     |
| #PCDATA                                                      | 文本                                                         |
| (#PCDATA\|E<sub>1</sub>\|E<sub>2</sub>\|...\|E<sub>n</sub>)* | 0 或多个文本且 E<sub>1</sub>，E<sub>2</sub>，...，E<sub>n</sub> 以任意顺序排列（混合式内容） |
| ANY                                                          | 允许有任意子元素                                             |
| EMPTY                                                        | 不允许有子元素                                               |

下面是一些简单而典型的例子。下面的规则声明了 menu 元素包含 0 或多个 item 元素：

```xml
<!ELEMENT menu (item)*>
```

下面这组规则声明 font 是用一个 name 后跟一个 size 来描述的，它们都包含文本：

```xml
<!ELEMENT font (name, size)>
<!ELEMENT name (#PCDATA)>
<!ELEMENT size (#PCDATA)>
```

元素的规格说明可以包含嵌套的和复杂的正则表达式，例如，下面是一个描述了本书中每一章的结构的规则：

```xml
<!ELEMENT chapter (intro, (heading, (para|imag|table|note)+)+)
```

还可以指定描述合法的元素属性的规则，其通用语法为：

```xml
<!ATTLIST element attribute type default>
```

<center><b>属性类型</b></center>

| 类型                                               | 含义                                                         |
| -------------------------------------------------- | ------------------------------------------------------------ |
| CDATA                                              | 任意字符串                                                   |
| (A<sub>1</sub>\|A<sub>2</sub>\|...\|A<sub>n</sub>) | 字符串属性 A<sub>1</sub>\|A<sub>2</sub>\|...\|A<sub>n</sub> 之一 |
| NMTOKEN NMTOKENS                                   | 1 或多个名字标记                                             |
| ID                                                 | 1 个唯一的 ID                                                |
| IDREF IDREFS                                       | 1 或多个对唯一 ID 的引用                                     |
| ENTITY ENTITIES                                    | 1 或多个未解析的实体                                         |

<center><b>属性的默认值</b></center>

| 默认值    | 含义                                                         |
| --------- | ------------------------------------------------------------ |
| #REQUIRED | 属性是必需的                                                 |
| #IMPLIED  | 属性是可选的                                                 |
| A         | 属性是可选的；若未指定，解析器报告的属性是 A                 |
| #FIXED A  | 属性必须是未指定的或者是 A；在这两种情况下，解析器报告的属性都是 A |

