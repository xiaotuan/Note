<center><font size="5"><b>将 when 主语捕获到变量中</b></font></center>

在 Kotlin 1.3 中，可以将 when 表达式主语捕获到变量中：

```kotlin
fun Request.getBody() = when (val response = executeRequest()) {
    is Success -> response.body
    is HttpError -> throw HttpException(response.status)
}
```

虽然已经可以在 when 表达式前面提取这个变量，但是在 when 中的 val 使其作用域刚好限制在 when 主体中，从而防止命名空间污染。

