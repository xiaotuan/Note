<center><font size="5"><b>构造函数调用规范化</b></font></center>

自 1.0 版起，Kotlin 就已支持带有复杂控制流的表达式，诸如 try-catch 表达式以及内联函数。根据 Java 虚拟机规范这样的代码是有效的。不幸的是， 当这样的表达式出现在构造函数调用的参数中时，一些字节码处理工具不能很好地处理这种代码 。

为了缓解这种字节码处理工具用户的这一问题，我们添加了一个命令行选项（`-Xnormalizeconstructor-calls=模式` ） ，告诉编译器为这样的构造过程生成更接近 Java 的字节码 。其中 模式 是下列之一：

+ disable （默认） ——以与 Kotlin 1.0 即 1.1 相同的方式生成字节码；
+ enable ——为构造函数调用生成类似 Java 的字节码。 这可能会改变类加载与初始化的顺序 ；
+ preserve-class-initialization ——为构造函数调用生成类似 Java 的字节码，并确保类初始化顺序得到保留。这可能会影响应用程序的整体性能；仅用在多个类之间共享一些复杂状态并在类初始化时更新的场景中。

“人工”解决办法是将具有控制流的子表达式的值存储在变量中，而不是直接在调用参数内对其求值。这与 -Xnormalize-constructor-calls=enable 类似。