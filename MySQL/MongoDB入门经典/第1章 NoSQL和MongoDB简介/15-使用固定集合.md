### 1.5.3 使用固定集合

MongoDB的一个优秀特性是，能够创建固定集合。固定集合是大小固定的集合：集合达到指定大小时，如果需要写入新文档，将把最旧的文档删除，再插入新文档。固定集合非常适合用于存储插入、检索和删除频繁的对象。

下面列出了使用固定集合的好处。

+ 固定集合保证按插入顺序排列文档。查询不需要使用索引就能按存储顺序返回文档，避免了建立索引的开销。
+ 固定集合禁止执行导致文档增大的更新，以保证文档在磁盘中的存储顺序与插入顺序相同。这避免了移动文档以及管理文档新位置的开销。
+ 固定集合自动删除集合中最旧的文档，这让您无需在应用程序中实现删除功能。

固定集合也带来了如下限制。

+ 更新文档时，不能导致它比插入到固定集合时大。您可以更新固定集合中的文档，但修改后不能比原来大。
+ 您不能删除固定集合中的文档，因此不再使用的数据也将占用磁盘空间。您可显式地删除固定集合，这将删除所有的条目；因此要再次使用它必须重新创建。

固定集合非常适合用于存储系统中滚动的事务日志。这让您总是能够访问最后几个日志条目，且不需要显式地删除最旧的条目。

