### 23.6 总结

在编写Linux设备驱动的程序，要特别注意代码的可移植性，要留意数据类型的长度、结构体的对界、CPU大小端模式以及内存页面的大小。

为了加速驱动的开发过程，在拿到一个驱动开发任务的时候，务必搜集足够的“情报”，找到可模拟的芯片或可利用的代码，这样可以事半功倍。一般而言，demo板的驱动、类似芯片的驱动以及无操作系统时的硬件操作代码都是可以参考的代码。

Linux 2.4到Linux 2.6的改进导致驱动中发生了一些细微的变化，了解这些变化后可进行驱动的更新。除了不同版本的Linux以外，其他操作系统中的驱动源代码经过适当的修改也可被移植到Linux中。

