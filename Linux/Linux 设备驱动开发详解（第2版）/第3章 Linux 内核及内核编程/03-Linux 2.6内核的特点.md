### 3.2 Linux 2.6内核的特点

本书基于的是Linux 2.6内核，LDD6410开发板内核的完整版本号为2.6.28.6。Linux 2.6内核是Linux开发者群落一个寄予厚望的版本，从2003年12月Linux 2.6.0发布至今，一直还处于开发之中，并还将稳定较长一段时间。Linux 2.6相对于Linux 2.4有相当大的改进，主要体现在如下几个方面：

#### 1．新的调度器

2.6版本的 Linux 内核使用了新的进程调度算法，它在高负载的情况下执行得极其出色，并且当有很多处理器时也可以很好地扩展。

#### 2．内核抢占

在2.6版本的 Linux 内核中，一个内核任务可以被抢占，从而提高系统的实时性。这样做最主要的优势在于，可以极大地增强系统的用户交互性，用户将会觉得鼠标单击和击键的事件得到了更快速的响应。

#### 3．改进的线程模型

2.6版本的Linux中线程操作速度得以提高，可以处理任意数目的线程，最大可以到20亿。

#### 4．虚拟内存的变化

从虚拟内存的角度来看，新内核融合了r-map（反向映射）技术，显著改善虚拟内存在一定程度负载下的性能。



#### 5．文件系统

2.6版内核增加了对日志文件系统功能的支持，解决了2.4版在这方面的不足。2.6版内核在文件系统上的关键变化还包括对扩展属性及Posix标准访问控制的支持。ext2/ext3作为大多数Linux系统缺省安装的文件系统，在2.6版内核中增加了对扩展属性的支持，可以给指定的文件在文件系统中嵌入元数据。

#### 6．音频

新的Linux音频体系结构ALSA（Advanced Linux Sound Architecture）取代了缺陷很多的旧的OSS（Open Sound System）。新的声音体系结构支持USB音频和MIDI设备，并支持全双工重放等功能。

#### 7．总线

SCSI/IDE子系统经过大幅度的重写，解决和改善了以前的一些问题。比如2.6版内核可以直接通过IDE驱动程序来支持IDE CD/RW设备，而不必像以前一样要使用一个特别的SCSI模拟驱动程序。

#### 8．电源管理

支持ACPI（高级电源配置管理界面，Advanced Configuration and Power Interface），用于调整CPU在不同的负载下工作于不同的时钟频率以降低功耗。

#### 9．联网和IPSec

2.6内核中加入了对IPSec的支持，删除了原来内核内置的HTTP服务器khttpd，加入了对新的NFSv4（网络文件系统）客户机/服务器的支持，并改进了对IPv6的支持。

#### 10．用户界面层

2.6内核重写了帧缓冲/控制台层，人机界面层还加入了对近乎所有接口设备的支持（从触摸屏到盲人用的设备和各种各样的鼠标）。

在设备驱动程序的方面，Linux 2.6相对于Linux 2.4也有较大的改动，这主要表现在内核API中增加了不少新功能（例如内存池）、sysfs文件系统、内核模块从.o变为.ko、驱动模块编译方式、模块使用计数、模块加载和卸载函数的定义等方面。

