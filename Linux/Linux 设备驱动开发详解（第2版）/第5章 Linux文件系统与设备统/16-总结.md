### 5.6 总结

Linux用户空间的文件编程有两种方法，即通过Linux API和通过C库函数访问文件。用户空间看不到设备驱动，能看到的只有设备对应的文件，因此文件编程即是用户空间的设备编程。

Linux按照功能对文件系统的目录结构进行了良好的规划。/dev是设备文件的存放目录，devfs 和udev分别是Linux 2.4和Linux 2.6生成设备文件节点的方法，前者运行于内核空间，后者运行于用户空间。

Linux 2.6通过一系列数据结构定义了设备模型，设备模型与sysfs文件系统中的目录和文件存在一种对应关系，udev可以利用sysfs中记录的信息定义规则并提取主次设备号动态创建/dev设备文件节点。

