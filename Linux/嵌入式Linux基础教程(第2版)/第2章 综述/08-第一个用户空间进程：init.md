### 2.2.5　第一个用户空间进程： `init` 

继续探讨其他内容之前，还有一个重点需要强调一下。请注意代码清单2-3中的这一行：



![8.png](../images/8.png)
直到这时，内核都是自己在执行代码，它在一个称为内核上下文（kernel context）的环境中完成大量的初始化工作。在这个运行状态下，内核拥有所有的系统内存并且全权控制所有的系统资源。内核能够访问所有的物理内存和所有的I/O子系统。它在内核虚拟地址空间中执行代码，使用一个由内核自己创建和支配的栈。

当内核完成其内部初始化并挂载了根文件系统后，默认会执行一个名为init的应用程序。内核一启动init，它随即进入用户空间（user space）或用户空间上下文运行。在这个运行状态下，用户空间进程对系统的访问是受限的，必须使用内核系统调用（system call）来请求内核服务，比如设备和文件I/O。这些用户空间进程或程序，运行在一个由内核随机<a class="my_markdown" href="['#anchor026']"><sup class="my_markdown">[6]</sup></a>选择和管理的虚拟内存空间中。在处理器中专门的内存管理硬件的协助下，内核为用户空间进程完成虚拟地址到物理地址的转换。这种架构的最大好处是某个进程中的错误不会破坏其他进程的内存空间。这是老式嵌入式系统的一个普遍缺陷，会产生那些最难查找的故障。

<a class="my_markdown" href="['#ac026']">[6]</a>　实际上，这并不是随机的，但是对于这里讨论的内容，也可能是这样。我们会在后面详细讨论这个主题。

对这些概念不熟悉也不用惊慌。本节的目标只是提纲挈领地作个介绍，在此基础上，你会在阅读本书的过程中逐步获得更加深入的理解。后续章节将详细解释这些概念。

