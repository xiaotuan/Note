### 6.1.4　嵌入式根文件系统带来的挑战

根文件系统会给嵌入式设备带来挑战，解释起来简单，做起来却不容易。除非你足够幸运，在所开发的嵌入式系统中有相当大的硬盘或板载闪存，否则，很难将应用程序和工具都放入单一的闪存设备中。虽然闪存存储设备的价格不断下降，但总是会有竞争的压力让你降低成本并让产品尽快上市。Linux成为越来越受欢迎的嵌入式操作系统，其中的一个重要原因就是大量不断增长的Linux应用程序。

删减一个根文件系统的内容，使它的大小能够适应给定的存储空间是一项艰巨的任务。很多软件包或子系统都包含数十个或甚至上百个文件。除了应用程序本身，很多软件包还包含配置文件、程序库、配置工具、图标、文档文件、国际化相关的语言文件、数据库文件等。一个典型的例子是Apache Web服务器程序，这个著名的应用程序来自Apache软件基金会，在嵌入式系统中很常见。流行的嵌入式Linux发行版中就有基本的Apache软件包，而它包含了254个不同的文件。此外，这些文件并不仅仅是简单地复制到文件系统中的同一目录中。它们会分散在文件系统中的几个不同位置，这样Apache应用程序才能正常工作，而不需要对它做修改。

以上概念体现了Linux发行版工程的一些基本方面，它们可能非常乏味。Linux发行版的生产厂商，比如Red Hat（桌面和企业市场）和Mentor Graphics（嵌入式市场）花费了大量的工程资源，仅仅是为了完成以下这项工作：将大量的程序、程序库、工具、实用软件和应用程序集中打包在一起，制作成一个Linux发行版。构建根文件系统也必然会涉及若干发布版制作工作，只是规模小一些。

