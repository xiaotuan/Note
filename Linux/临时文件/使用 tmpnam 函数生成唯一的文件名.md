临时文件的这种用法很常见，但也有一个隐藏的缺点。你必须确保应用程序为临时文件选取的文件名是唯一的。用 `tmpnam`函数可以生成一个唯一的文件名：

```c
#include <stdio.h>

char *tmpnam(char *s);
```

`tmpnam` 函数返回一个不与任何已存在文件同名的有效文件名。如果字符串 s 不为空，文件名也会写入它。对 `tmpnam` 的后续调用会覆盖存放返回值的静态存储区，所以如果 `tmpnam` 要被多次调用，就有必要给它传递一个字符串参数了。这个字符串的长度至少要有 `L_tmpnam`（通常为 20）个字符。`tmpnam` 可以被一个程序最多调用 `TMP_MAX` 次（至少为几千次），每次它都会返回一个不同的文件名。

