### 14.9.2　多次挂载同一挂载点

在内核版本2.4之前，一个挂载点只能使用一次。从内核2.4开始，Linux允许针对同一挂载点执行多次挂载。每次新挂载都会隐藏之前可见于挂载点下的目录子树。卸载最后一次挂载时，挂载点下上次挂载的内容会再次显示，请参考以下shell会话：

<img class="my_markdown" src="../images/320.png" style="width: 75%" width="75%"/>

在现有且在用的挂载点上执行新的挂载操作是此类堆叠挂载的用法之一。持有打开文件描述符的进程、建立chroot监禁区（jail）的进程，以及工作目录位于老挂载点之下的进程将继续在旧有挂载下运行，而针对挂载点发起新访问的进程将使用新挂载。结合MNT_DETACH标志下的unmount操作，则无需将文件系统置为单用户模式，即可为其提供平滑迁移。14.10节在讨论tmpfs时会举例说明堆叠挂载的另一用法。

