### 60.7　练习

**60-1.　** 为程序清单60-4（is_echo_sv.c）中的程序增加代码，使得可同时运行的子进程数量有一个上限。

**60-2.　** 有时候可能需要编写一个套接字服务器，使得它既可以直接在命令行上调用也可以间接地通过inetd来调用。此时，命令行选项可用来区分这两种情况。修改程序清单60-4中的程序，使得如果给定了命令行选项-i，就认为程序是通过inetd来调用的，并在连接套接字上通过inetd提供的STDIN_FILENO文件描述符来处理单个客户端。如果没有给出-i选项，那么程序就假设它是在命令行上调用，以正常方式工作。（这项修改只需要增加几行代码就够了。）修改/etc/inetd.conf文件，为echo服务调用这个程序。

①译者注：强烈觉得原文应该是每秒，而不是每分钟。因为以分钟来算，这负载不算高。

②译者注：通常我们称之为线程池或进程池。



