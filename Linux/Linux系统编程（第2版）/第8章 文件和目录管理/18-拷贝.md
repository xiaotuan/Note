### 8.4.1　拷贝

UNIX并不包含实现多文件和目录拷贝的系统或库调用，这或许会让有些人很吃惊。相反，需要手工执行cp或GNOME’s Nautilus文件管理器这类工具来完成这些功能。

要拷贝文件src，生成文件dst，需要执行以下步骤。

1．打开src。

2．打开dst，如果dst不存在则创建，如果已存在则把其长度截断为零。

3．把src数据块读至内存。

4．把该数据块写入dst。

5．继续操作直到src全部读取完且已经都写入到dst中。

6．关闭dst。

7．关闭src。

如果拷贝的是个目录，则通过mkdir()创建该目录及其所有子目录，并单独拷贝其中的每个文件。

