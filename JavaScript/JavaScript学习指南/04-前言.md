# 前言

虽然这已经是我在JavaScript技术领域的第二本书了，但对于JavaScript专家和布道师这个角色，我仍然觉得有些意外。和很多开发人员一样，我对JavaScript持有强烈的偏见，这种偏见一直持续到2012年。即便现在我的思想已经发生了转变，我的迷惑仍然存在。

我对JavaScript持有偏见的缘由很简单：我认为JavaScript是一种“玩具”语言（我并没有真正地好好学习过它，因此不是完全了解我所评价的东西），它经常被那些危险、粗心、未经培训的业余程序员所使用。这些现象都是有事实依据的。ES6开发速度很快，即使是它的发明人Brendan Eich后来也承认有些东西在一开始并没有考虑周全，而当他意识到的时候，已经有太多人指望他能够对这些问题做出有效的改进（然而，又有哪个语言没有这方面的困扰呢）。第二个原因是，JavaScript确实让编程突然变得更加容易上手。这不仅是因为浏览器的普及，更是因为它的高回报/投入比，人们只要付出一点点努力，就可以收获JavaScript为他们的网站所创造的巨大价值。人们可以通过试错，通过阅读彼此的代码，甚至在很多情况下，通过模仿那些缺乏理解的不良代码来学习这门编程语言。

我很庆幸自己在学习了足够多的JavaScript知识后，意识到它不仅不是一种玩具语言，而且拥有极其雄厚的基础，强大、灵活、具有表现力。我也很庆幸自己能够毫无芥蒂地拥抱JavaScript所带来的简易特性。毫无疑问，我对业余爱好者没有任何敌意：每个人都会找到自己的起点，而编程是一项有益的技能，以软件开发作为职业则会带来更多好处。

对于新手和业余的开发人员，我会说：成为一个业余开发人员并不是一件羞耻的事情。但如果一直停留在业余水平，那么就有点不合适了（如果你决定把编程作为职业）。如果你想练习编程，那么就付诸行动。搜集所有你能找到的资源，学习任何你可以学到的东西。保持谦虚、开放的心态，最重要的是，学会质疑。质疑一切权威，质疑任何一个经验丰富的开发人员，多问几句“为什么？”

多数情况下，我都尽量尝试让本书的内容符合JavaScript的“事实”，但是依然不可避免地会有不同的意见。当我提出不同意见时，按照原有的意思理解它们就行。我非常欢迎不同的看法，我也鼓励读者去寻求其他有经验的开发人员的意见。

如今正是学习JavaScript最好的时代。互联网正在逐渐脱离蹒跚学步（从技术的角度上）的阶段，网站开发领域也不再处于5～10年前那种令人不解的拓荒阶段。一些类似HTML5或ES6之类的标准使得学习网站开发变得越来越简单，开发出高质量的网站应用也不再是一件困难的事情。Node.js使JavaScript的应用范围不再局限于浏览器，现在的JavaScript已经可以用来开发系统脚本、桌面应用程序、网站后端，甚至是嵌入式应用。可以肯定的是，我从20世纪80年代中期开始编程以来，从未觉得编程是一件如此有趣的事。

### JavaScript简史

Brendan Eich于1995年开发了JavaScript，他曾就职于网景通信公司（Netscape Communications Corporation）。最早的JavaScript是在很短时间内开发出来的，很多批判它的人都说它的开发缺乏远见。然而，Brendan Eich并不是一个浅尝辄止的人：他有着非常扎实的计算机科学基础，对JavaScript有着成熟和颇具先见之明的想法。从很多方面来说，这些想法是超越时代的，主流开发者们花了15年的时间才逐渐理解了这门语言的先进性。

JavaScript最早的名字是Mocha，在1995年网景领航员浏览器（Netscape Navigator）的一次发布中被正式命名为JavaScript之前，它曾经短期使用了LiveScript这个名字。“JavaScript”中的单词“Java”并不是巧合，但是却有点费解：撇开通用的语法传统不说，相比Java，JavaScript更类似于Self（一种基于原型的语言，20世纪80年代中期由Xerox PARC所开发）和Scheme（一种深受Lisp和ALGOL影响的语言，20世纪70年代由Guy Steele和Gerald Sussman所开发）。Eich精通Self和Scheme，他在开发JavaScript时应用了这两种语言中的一些具有前瞻性思考的范例。JavaScript这个名字的由来一部分是出于市场需求，当时的Java语言非常流行，所以将它们关联起来<a class="my_markdown" href="['#anchorq1']"><sup class="my_markdown">[1]</sup></a>。

1996年11月，网景通信公司声明他们已经把JavaScript提交到Ecma。Ecma是一家私有的、国际化非营利性标准化组织，它在技术和通信行业有着重大影响力。Ecma国际发布了第一版ECMA-26规格，其本质就是JavaScript。

Ecma规格（一种叫作ECMAScript的语言）和JavaScript的区别更多体现在学术方面。从技术上说，JavaScript是ECMA的一种实现，但在实际应用中，JavaScript和ECMAScript是可以互换的。

ECMAScript的上一个主版本是5.1（通常也称为ES5），发布于2011年6月。市面上现存的老到不支持ECMAScript5.1的“非正规”浏览器已经不足个位数，可以很有把握地说，ECMAScript5.1已经是现今的网络通用语言了。

ECMAScript6（ES6）作为本书的重点，由Ecma国际发布于2015年6月。在正式发布之前，它被叫作“Harmony”，所以你可能会听到有人把ES6称作“Harmony”“ES6 Harmony”“ES6”“ES2015”以及“ECMAScript2015”。在本书中，我们将其统称为ES6。

### ES6

如果说ES5是目前的网络通用语言的话，有心的读者可能会奇怪为什么本书要重点关注ES6呢。

ES6代表了JavaScript语言的一个重大进步，ES5的一些缺陷也在ES6中得到了改进。你一定会发现，在工作中，ES6是一门更加令人愉快和强大的语言（从ES5开始入门则会很享受）。同时，感谢转换器，你现在可以编写ES6代码，然后把它们转化成“浏览器可识别的”ES5代码。

随着ES6的最终发布，浏览器对它的支持也会越来越稳定，总有一天，转换器将从历史的舞台褪去（我不会预测这件事什么时候会发生，即使是粗略地估计）。

毫无疑问，ES6代表了JavaScript开发的未来，你现在花些时间来学，就是为未来做准备，我们现在使用转换器，可以保留代码的可移植性。

然而，并不是每个开发人员都希望编写ES6代码。很可能你正在一个非常庞大的基于ES5的代码库上工作，将这些代码转换成ES6的成本非常高，一些开发人员仅仅是不想为此花费额外的精力。

除了第1章以外，本书将重点讲解ES6，而非ES5。我会在恰当的时机指出ES6和ES5的不同之处，但是不会出现对照代码的例子，或者在更适合使用ES6的时候出现大量关于“ES5用法”的讨论。如果你恰好是那种无论如何都要坚持使用ES5的开发人员，那么本书可能不适合你（即使这样我还是希望未来的某一天你可以开始使用ES6）。

从编纂的角度来说，选择ES6作为本书的重点这一决定非常谨慎。ES6里程碑式的进步使得维持其清晰的教学框架变得非常困难。简而言之，如果一本书试图同时涵盖关于ES5和ES6的内容，很可能会顾此失彼。

### 本书的目标读者

本书主要针对那些有一定编程经验的读者（即使只听过一些介绍编程的课程，或者在线课程）。如果你刚接触编程，本书将会对你非常有帮助，不过你可能需要一些介绍性的文章或者课程作为补充。

那些已经有一些JavaScript经验（尤其是只有ES5的经验）的读者，也会在本书中找到实用且全面的重要语言概念。

从其他编程语言转过来的开发人员对本书的内容应该会有一见如故的感觉。

本书将全面涵盖关于语言特性、相关工具、技术，以及推动现代JavaScript开发的范例等方面的知识。因此，本书中的素材也将相应地从简明易懂（如变量、控制流、函数）到复杂深奥（如异步编程、正则表达式）变化。根据你的经验情况，你可能会发现阅读其中某些章节颇具挑战性。毫无疑问，初学者将需要反复阅读其中某些章节。

### 本书的遗憾之处

本书不是关于JavaScript或其相关类库的索引大全。Mozilla开发者网络（Mozilla Developer Network，MDN）维护了一个非常出色、全面、实时更新，并且免费的在线JavaScript索引（https://developer.mozilla.org/en-US/docs/Web/ JavaScript），本书将会自由地引用以上类库。如果你更喜欢实体书，David Flanagan的《JavaScript权威指南》则更加全面（尽管它在本书编写的时候还未涵盖ES6的内容）。

### 本书的排版约定

本书将使用以下印刷相关约定：

斜体

表示新的术语、网址、邮件地址、文件名及文件扩展名。

等宽字体

用于代码列表，包括段落内引用代码元素的地方，比如，变量或者函数名、数据库、数据类型、环境变量、语句及关键字。

等宽加粗

表示命令行或者其他应该由用户输入的文本。

等宽斜体

表示应由用户输入或者由上下文决定的值。

> <img class="my_markdown" src="./images/1.png" style="width:128px;  height: 170px; " width="10%"/>
> 此标志表示小窍门或者建议。



> <img class="my_markdown" src="./images/2.png" style="width:116px;  height: 151px; " width="10%"/>
> 此标志表示一般性的注解。



> <img class="my_markdown" src="./images/3.png" style="width:151px;  height: 145px; " width="10%"/>
> 此标志表示警告或警示。

### Safari® Books Online

<img class="my_markdown" src="./images/4.png" style="width:1456px;  height: 488px; " width="20%"/>　Safari Books Online是一个按需数字图书馆，它提供了来自全球各地技术和商业领域优秀作者的专业书籍和视频。

专业技术人员、软件开发人员、网页设计人员，以及商业和创意专业人士等将Safari Books Online用作其首选的内容数据库，进行搜索、解决问题、学习和认证培训。

Safari Books Online为企业、政府、教育机构和个人提供一系列计划和定价。

会员有权在这个完全可搜索的内容数据库中访问来自O'Reilly Media、Prentice Hall Professional、Addison-Wesley Professional、Microsoft Press、Sams、Que、Peachpit Press、Focal Press、Cisco Press、John Wiley & Sons、Syngress、Morgan Kauf mann、IBM Redbooks、Packt、Adobe Press、FT Press、Apress、Manning、New Riders、McGraw-Hill、Jones & Bartlett和Course Technology等上百家出版商的上千本书籍、培训影片，以及正式出版前的手稿。了解更多有关Safari Books Online的信息，请访问我们的官方网站。

### 我们的联系方式

请通过以下方式把对本书的评价和问题提交给出版商：

O’Reilly Media, Inc.

1005 Gravenstein Highway North

Sebastopol, CA 95472

电话：800-998-9938（美国或者加拿大）

707-829-0515（国际或者本地）

707-829-0104（传真）

关于本书的勘误、示例和其他信息，请访问官方页面。

关于本书的意见，建议或技术问题，请发邮件到：bookquestions@oreilly.com.

了解更多有关我们的图书、课程、会议的信息以及最新动态，请访问我们的官方推特。也可以在Youtube上观看。

### 致谢

能够有机会为O’Reilly写书是一个巨大的荣耀，我欠Simon St.Laurent一个大人情，因为他在我身上看到了这种潜能，并且带我走向写书这条路。Meg Foley是我的编辑，他一直在支持我，鼓励我，对我有前所未有的帮助（我给你寄了一件非常绿的T恤衫，Meg！）。每一本O’Reilly出版的书都是一个团队努力的成果，我的文字编辑Rachel Monaghan，制作编辑Kristen Brown，以及校对员Jasmine Kwityn，他们在跟我合作中都非常迅速，全面，富有见解：谢谢每个人的努力！

我的技术审稿人，Matt Inman、Shelley Powers、Nick Pinkham和Cody Lindley，感谢你们敏锐的反馈，绝妙的想法，以及不遗余力地帮我润色这本书。可以说没有你们我就无法完成这本书。当然，每个人的反馈都非常有帮助，这里我想特别感谢一下Matt：他深厚的教育学背景为我提供了一个很有价值的教学视角，他经常在反馈中使用的Stephen Colbert的图片帮我理清思路！

在此要特别感谢Shelley Powers——本书上一个版本的作者，不仅仅是因为她把这个头衔传递给我，更因为她为本书提供了非常有经验的反馈，从而让本书变得更好（并且引发了一些激烈的讨论）。

我想感谢所有读过我上一本书（《Node与Express开发》）的读者。如果没有你们的购买，以及积极地评论，我可能就没有机会写本书了。在此特别感谢提出反馈和修正建议的读者：从你们的反馈中我学到了很多！

我很荣幸能在Pop Art工作，感谢这里的每一位同事，你们是我坚实的依靠。你们的支持令我自惭形秽，你们的热情激励着我，你们的专业精神和奉献精神是我每天起床的动力。在这里特别感谢Tom Paul：他坚定不移的原则，创新的经营理念，以及卓越的领导力时刻激励着我不仅要做好当下，还要放眼未来，不断进步。感谢Steve Rosenbaum创办Pop Art，并在度过惊涛骇浪后将火炬成功地传递给Tom。在我写作本书的过程中，Colwyn Fritze-Moor 和Eric Buchmann帮助处理了一些我的日常工作，感谢你们！感谢Dylan Hallstrom成为可靠的模范！感谢Liz Tom和Sam Wilskey加入Pop Art的团队！感谢Carole Hardy、Nikki Brovold、Jennifer Erts、Randy Keener、Patrick Wu和Lisa Melogue给我的所有支持。最后，感谢我的前辈Tony Alferez、Paul Inman和Del Olds，从他们那里我学到了很多。

我对这本书以及编程语言的热情，是被Dan Resler博士点燃的，他是弗吉尼亚联邦大学的副教授。我在参加他的编译原理课程的时候缺乏兴趣，但是课程结束后却对形式语言理论产生了浓厚的兴趣。感谢您用自己的热情感染我，用您深邃的思想影响我。

感谢我所有在PSU中兼职MBA的朋友们，很高兴认识大家！特别感谢Cathy、Amanda、Miska、Sahar、Paul S.、Cathy、John R.、Laurie、Joel、Tyler P.、Tyler S.和Jess：是你们让我的人生更加充实！

Pop Art的同事们激励我变得杰出，点亮我的白天；朋友们激励我变得更有深度，照亮我的夜晚。Mark Booth：没有人比你更了解我，也没有人能像你这样获得我最深的信任。你的创造力和天赋让我感到惭愧，千万别把这本书拿到你面前当做炫耀的资本。Katy Roberts像定期来临的潮水一样可靠，美丽的Katy，感谢你深厚持久的善良和友谊。Sarah Lewis: 我喜欢你的样子。Byron和Amber Clayton是我真诚而忠实的朋友，他们总是能带给我欢乐。Lorraine，这么多年过去了，你总是能让我展现出最好的一面。在这里我想对Kate Nahas说：很高兴多年之后我们恢复了联系；我很期待为我们拥有在杜克大学的共同回忆而举杯。Desember：感谢你的信任，温暖和友谊。最后，感谢我的新朋友Chris Onstad和Jessica Rowe：你们在过去两年中给我的生活带来如此多的欢笑，真不知道没有你们我该怎么办。

在这里我想对我的母亲Ann说：感谢您给予我坚定不移的支持、爱和耐心。我的父亲Tom，使我一直保持好奇心、创新和奉献精神，如果没有他我可能只是一个可怜的工程师（或者压根不是工程师）。还有我的姐姐，Meris，她将永远是我生命中那个代表着忠诚和信念的不动点。

<a class="my_markdown" href="['#acq1']">[1]</a>　在2014年的一次公开采访中，Eich对“憎恨 JavaScript”的Sun Microsystems公司嗤之以鼻。



