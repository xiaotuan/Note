

### 6.3　文件系统的正式介绍

Node的文件系统模块（fs）提供了在任何操作下使用文件系统所需的所有功能，不管是哪种操作系统。我们已经看到整本书都在使用它。现在，我们来正式地了解一下这些功能。

首先，就像Node文档中声明的那样，文件系统模块是一组支持POSIX功能的封装集合。意味着它支持POSIX标准化（跨平台兼容）文件系统的访问，也就是说这个模块在所有支持POSIX文件系统的操作系统上都是通用的。所以你的应用可以在OS X、Linux和Windows上使用，甚至还能在一些诸如Android和Raspberry Pi这样的微型计算机上使用。

文件系统模块提供了函数的同步版本，就像传统的Node异步版本一样。这样做好不好并不重要，既然它们已经存在，我们就可以自己选择用或者不用。

异步函数会把错误优先回调作为最后一个参数，而同步函数会在错误发生时立刻抛出错误。你可以搭配传统的 `try … catch` 来使用同步函数，或者使用异步函数来访问错误对象。在本节的剩余部分中，我会把注意力放在异步函数上。不过还是要知道，函数的同步版本依然存在。

除了众多的函数外，文件系统还支持下面这4个类：

+ `fs.FSWatcher` ，支持监听文件变化的事件；
+ `fs.ReadStream` ，一个可读流；
+ `fs.WriteStream` ，一个可写流；
+ `fs.Stats` ，从 `*stat` 函数返回的信息。

