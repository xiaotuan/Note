[toc]

### 1. 基本使用方法

`tar` 命令最开始是用来将文件写到磁带设备上归档的，然而它也能把输出写到文件里，这种用法在 Linux 上已经普遍用来归档数据了。

下面是 `tar` 命令的格式：

```shell
tar function [options] object1 object2 ...
```

<center><b>tar 命令的功能</b></center>

| 功能 | 长名称        | 描述                                                         |
| ---- | ------------- | ------------------------------------------------------------ |
| -A   | --concatenate | 将一个已有 tar 归档文件追加到另一个已有 tar 归档文件         |
| -c   | --create      | 创建一个新的 tar 归档文件                                    |
| -d   | --diff        | 检查归档文件和文件系统的不同之处                             |
|      | --delete      | 从已有 tar 归档文件中删除                                    |
| -r   | --append      | 追加文件到已有 tar 归档文件末尾                              |
| -t   | --list        | 列出已有 tar 归档文件的内容                                  |
| -u   | --update      | 将比 tar 归档文件中已有的同名文件新的文件追加到该 tar 归档文件中 |
| -x   | --extract     | 从已有 tar 归档文件中提取文件                                |

<center><b>tar 命令选项</b></center>

| 选项    | 描述                                |
| ------- | ----------------------------------- |
| -C dir  | 切换到指定目录                      |
| -f file | 输出结果到文件或设备 file           |
| -j      | 将输出重定向给 bzip2 命令来压缩内容 |
| -p      | 保留所有文件权限                    |
| -v      | 在处理文件时显示文件                |
| -z      | 将输出重定向给 gzip 命令来压缩内容  |

### 2. 压缩文件

可以使用下列命令来创建一个归档文件：

```shell
$ tar -cvf test.tar test/ test2/
```

### 3. 列出压缩文件的内容（不提取）

可以使用下列命令列出压缩文件中的内容：

```shell
$ tar -tf test.tar
```

### 4. 解压文件

可以使用下列命令解压文件：

```shell
$ tar -xvf test.tar
```

